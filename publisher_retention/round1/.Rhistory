source('C:/Shahar/Projects/publisher_retention/session1.R')
install.packages('dplyr')
source('C:/Shahar/Projects/publisher_retention/session1.R')
install.packages('zoo')
intall.packages('ggplot2')
install.packages('ggplot2')
install.packages('reshape2')
install.packages('stringr')
source('C:/Shahar/Projects/publisher_retention/session1.R')
?rank\
?rank
?dense_rank
source('C:/Shahar/Projects/publisher_retention/session1.R')
View(a3)
nrows(a3)
nrow(a3)
?for
{}
"abc" != "bdfd"
a = 1 ||6
a
TRUE(10)
logical(10)
source('C:/Shahar/Projects/publisher_retention/session1.R')
names(a1)
source('C:/Shahar/Projects/publisher_retention/session1.R')
View(a2)
source('C:/Shahar/Projects/publisher_retention/session1.R')
View(a2)
debugSource('C:/Shahar/Projects/publisher_retention/session1.R')
data$impressions[i]
data$max_imps[i]
data$impressions[i] < 0.1*data$max_imps[i]
isTail && data$impressions[i] < 0.1*data$max_imps[i]
source('C:/Shahar/Projects/publisher_retention/session1.R')
View(maxImpRank)
?yearmon
yearmon(Date('2016-12-25'))
yearmon(as.Date('2016-12-25'))
as.yearmon(as.Date('2016-12-25'))
as.yearmon(as.Date('2016-12-25')) - as.yearmon(as.Date('2015-04-01'))
as.yearmon('2016-12-25')
as.yearmon('2016-12')
as.yearmon('2016-14')
floor(0.145,1)
source('C:/Shahar/Projects/publisher_retention/session1.R')
p
source('C:/Shahar/Projects/publisher_retention/session1.R')
p
source('C:/Shahar/Projects/publisher_retention/session1.R')
p
?geom_line
source('C:/Shahar/Projects/publisher_retention/session1.R')
p
source('C:/Shahar/Projects/publisher_retention/session1.R')
p
source('C:/Shahar/Projects/publisher_retention/session1.R')
p+ guides(colour=F)
as.yearmon('2016-12') >2016.5
as.yearmon('2015-12') >2016.5
as.yearmon('2016-06') >2016.5
as.yearmon('2016-07') >2016.5
as.yearmon('2016-07') >= 2016.5
source('C:/Shahar/Projects/publisher_retention/session1.R')
p
View(a3)
View(a4)
as.double(as.yearmon('2016-07'))
floor(as.double(as.yearmon('2016-07')))
floor(as.yearmon('2016-07'))
source('C:/Shahar/Projects/publisher_retention/session1.R')
?floor
source('C:/Shahar/Projects/publisher_retention/session1.R')
p2
eps
epsilon
.Machine$double.eps
ceiling(0)
ceiling(0*4)
ceiling(.Machine$double.eps*4)
?percent_rank
source('C:/Shahar/Projects/publisher_retention/session1.R')
p2
source('C:/Shahar/Projects/publisher_retention/session1.R')
p2
source('C:/Shahar/Projects/publisher_retention/session1.R')
p2
source('C:/Shahar/Projects/publisher_retention/session1.R')
p3
p2
source('C:/Shahar/Projects/publisher_retention/session1.R')
p3
mod(200716 ,100)
2001 % 100
?modulu
??modulu
??modulus
??remainder
2001 %% 100
2001 %/% 100
1 %/% 0.2
source('C:/Shahar/Projects/publisher_retention/session2.R')
install.packages("ISOweek")
source('C:/Shahar/Projects/publisher_retention/session2.R')
View(a1)
ISOweek2date(2016-W30-1)
ISOweek2date('2016-W30-1')
source('C:/Shahar/Projects/publisher_retention/session2.R')
?rollmean
source('C:/Shahar/Projects/publisher_retention/session2.R')
320420+489881+525924
/3
1336225/3
source('C:/Shahar/Projects/publisher_retention/session2.R')
(489811+525924+811994)/3
(489881+525924+811994)/3
length(unique(a1$account))
p1 <- ggplot(a2) + geom_line(aes(x=date_monday,y=impressions, group=account, colour='blue')) +
geom_line(aes(x=date_monday, y=is_alert, group=account, colour='red'))+
facet_wrap(~account_letter)
source('C:/Shahar/Projects/publisher_retention/session2.R')
a1[1]
?data_frame
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
p1 + scale_x_date()
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
p1 + scale_x_date()
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
source('C:/Shahar/Projects/publisher_retention/session2.R')
log10(1000000)
"11323244 "< "Abc"
"abc "< "Abc"
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
names(a2)
class(a2$account)
class(a2$account_week)
class(a2$impressions)
class(a2$is_alert)
class("a")
class(ifelse(0<1, 123,455))
class(ifelse(0<1, 123,na))
class(ifelse(0<1, 123,NA))
class(ifelse(0>1, 123,NA))
ifelse(0>1, 123,NA)
NaN
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
as.Date('2017-01-02') - as.Date('2015-09-28')
as.double(as.Date('2017-01-02') - as.Date('2015-09-28'))
as.double(as.Date('2017-01-02') - as.Date('2015-09-28')) %/% 7
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
?facet_wrap
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
source('C:/Shahar/Projects/publisher_retention/session2.R')
(512881+439983+1006185)/3
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
?sort
ifelse(1<NA, 1, 0)
source('C:/Shahar/Projects/publisher_retention/session2.R')
source('C:/Shahar/Projects/publisher_retention/functions.R')
source('C:/Shahar/Projects/publisher_retention/session2.R')
warnings()
source('C:/Shahar/Projects/publisher_retention/session2.R')
View(a1)
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
max(c(NA,NA),na.rm=TRUE)
max(c(0,NA,NA),na.rm=TRUE)
-Inf==-Inf
-Inf==Inf
pmax(0,max(c(NA,NA),na.rm=TRUE)
)
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
source('C:/Shahar/Projects/publisher_retention/session2.R')
p3
p1
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
source('C:/Shahar/Projects/publisher_retention/session2.R')
p1
names(a1)
source('C:/Shahar/Projects/publisher_retention/session2.R')
View(account_stats)
source('C:/Shahar/Projects/publisher_retention/session2.R')
ggplot(account_stats)+geom_histogram(aes(x=lifetime),stat="bin",binwidth=42))+facet_wrap(~current_client)
ggplot(account_stats)+geom_histogram(aes(x=lifetime),stat="bin",binwidth=42)+facet_wrap(~current_client)
source('C:/Shahar/Projects/publisher_retention/session2.R')
View(account_lifetime_volume_bins)
ggplot(account_lifetime_volume_bins)+geom_time(x=lifetime_bin, y=volume_bin, fill=Count)
ggplot(account_lifetime_volume_bins)+geom_tile(x=lifetime_bin, y=volume_bin, fill=Count)
ggplot(account_lifetime_volume_bins)+geom_tile(aes(x=lifetime_bin, y=volume_bin, fill=Count))
ggplot(account_lifetime_volume_bins)+geom_density(x=volumen_bin)+facet_wrap(~lifetime_bin)
ggplot(account_lifetime_volume_bins)+geom_density(x=volume_bin)+facet_wrap(~lifetime_bin)
ggplot(account_lifetime_volume_bins)+geom_density(aes(x=volume_bin)+facet_wrap(~lifetime_bin)
ggplot(account_lifetime_volume_bins)+geom_density(aes(x=volume_bin))+facet_wrap(~lifetime_bin)
ggplot(account_lifetime_volume_bins %>% filter(lifetime_bin <=36))+geom_density(aes(x=volume_bin,group=lifetime_bin))
?geom_density
ggplot(account_lifetime_volume_bins %>% filter(lifetime_bin <=36))+geom_density(aes(x=volume_bin,colour=lifetime_bin))
ggplot(account_lifetime_volume_bins %>% filter(lifetime_bin <=36))+geom_density(aes(x=volume_bin,colour=as.factor(lifetime_bin)))
ggplot(account_lifetime_volume_bins %>% filter(lifetime_bin <=36))+geom_stat(aes(x=volume_bin,fill=as.factor(lifetime_bin)))
ggplot(account_lifetime_volume_bins %>% filter(lifetime_bin <=36))+geom_histogram(aes(x=volume_bin,fill=as.factor(lifetime_bin)))
sort(account_stats$imps_rank)
diff(sort(account_stats$imps_rank))
sum(account_stats$imps_rank<0.2)
sum(account_stats$imps_rank<0.4)
sum(account_stats$imps_rank<0.6)
sum(account_stats$imps_rank<0.6)/413
sum(account_stats$imps_rank<0.8)/413
sum(account_stats$imps_rank<0.2 & account_stats$lifetime_bin<=42 )
sum(account_lifetime_volume_bins$imps_rank<0.2 & account_stats$lifetime_bin<=42 )
sum(account_lifetime_volume_bins$imps_rank<0.2 & account_lifetime_volume_bins$lifetime_bin<=42 )
sum(account_lifetime_volume_bins$volume_bin=0.2 & account_lifetime_volume_bins$lifetime_bin<=42 )
sum(account_lifetime_volume_bins$volume_bin==0.2 & account_lifetime_volume_bins$lifetime_bin<=42 )
sum(account_lifetime_volume_bins$volume_bin==0.2)
sum(account_lifetime_volume_bins$volume_bin==0.4)
sum(account_lifetime_volume_bins$volume_bin==0.6)
sum(account_lifetime_volume_bins$volume_bin>=0.59 & account_lifetime_volume_bins$volume_bin<=0.61)
sum(account_lifetime_volume_bins$volume_bin>=0.79 & account_lifetime_volume_bins$volume_bin<=0.81)
sum(account_lifetime_volume_bins$volume_bin>=0.79 & account_lifetime_volume_bins$volume_bin<=0.81 & lifetime_bin == 0)
sum(account_lifetime_volume_bins$volume_bin>=0.79 & account_lifetime_volume_bins$volume_bin<=0.81 & account_lifetime_volume_bins$lifetime_bin == 0)
sum(account_lifetime_volume_bins$volume_bin>=0.79 & account_lifetime_volume_bins$volume_bin<=0.81 & account_lifetime_volume_bins$lifetime_bin <= 72)
sum(account_lifetime_volume_bins$volume_bin>=0.19 & account_lifetime_volume_bins$volume_bin<=0.21 & account_lifetime_volume_bins$lifetime_bin <= 72)
sum(account_lifetime_volume_bins$volume_bin>=0.39 & account_lifetime_volume_bins$volume_bin<=0.41 & account_lifetime_volume_bins$lifetime_bin <= 72)
sum(account_lifetime_volume_bins$volume_bin>=0.59 & account_lifetime_volume_bins$volume_bin<=0.61 & account_lifetime_volume_bins$lifetime_bin <= 72)
sum(account_lifetime_volume_bins[account_lifetime_volume_bins$volume_bin>=0.59 & account_lifetime_volume_bins$volume_bin<=0.61 & account_lifetime_volume_bins$lifetime_bin <= 72,"Count"]
sum(account_lifetime_volume_bins[account_lifetime_volume_bins$volume_bin>=0.59 & account_lifetime_volume_bins$volume_bin<=0.61 & account_lifetime_volume_bins$lifetime_bin <= 72,"Count"])
write.csv(account_lifetime_volume_bins,
"cool.csv")
source('C:/Shahar/Projects/publisher_retention/session2.R')
write.csv(account_lifetime_volume_bins,
"cool.csv")
names(account_stats)
?mean
source('C:/Shahar/Projects/publisher_retention/session2.R')
View(account_stats)
source('C:/Shahar/Projects/publisher_retention/session2.R')
View(account_stats0)
source('C:/Shahar/Projects/publisher_retention/session2.R')
42/365
42/364
365/7
364/7
/6
52/6
53/6
54/6
54*7
source('C:/Shahar/Projects/publisher_retention/session2.R')
write.csv(account_lifetime_volume_bins,"cool.csv")
42/12
365/12
365/42
42/365
365*.115
365/12
30.4*12
source('C:/Shahar/Projects/publisher_retention/session2.R')
write.csv(account_lifetime_volume_bins,"cool.csv")
source('C:/Shahar/Projects/publisher_retention/session2.R')
write.csv(account_stats, "account_stats.csv")
source('C:/Shahar/Projects/publisher_retention/session2.R')
write.csv(account_stats, "account_stats.csv")
source('C:/Shahar/Projects/publisher_retention/session2.R')
write.csv(account_stats, "account_stats.csv")
