loopFiles()
class(df)
class(y)
nrow(y)
loopResults
loopResults()
class(df)
ggplot(data=df, aes(y=wins, x=floorPrice))+geom_line()+geom_point()
p1
p1<-NA
p1<-ggplot(data=df, aes(y=wins, x=floorPrice))+geom_line()+geom_point()
loopResults()
p1 <- ggplot(data=df, aes(y=wins, x=floorPrice))+geom_line()+geom_point()
class(p1)
loopFiles()
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
loopResults()
p1 <- ggplot(data=df, aes(y=wins, x=floorPrice, colors=floorPrice))+geom_line()+geom_point()
print(p1)
p1 <- ggplot(data=df, aes(y=wins, x=floorPrice, fill=floorPriceType))+geom_line()+geom_point()
print(p1)
p1 <- ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType))+geom_line()+geom_point()
print(p1)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
fname="results/8aa7fb4e378bd004fcdbb00e918a5e16.csv"
df <- read.csv(fname)
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType))+geom_line()f+geom_point()
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType))
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType))+geom_line()+geom_point()
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType,size=floorPriceType))+geom_line()+geom_point()
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType,size=floorPriceType))+geom_line()+geom_point()+ scale_size_manual(values=c(4,2))
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType,size=floorPriceType))+geom_line()+geom_point()+ scale_size_manual(values=c(4,1))
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType,size=floorPriceType))+geom_line()+geom_point()+ scale_size_manual(values=c(4,0.5))
loopResults()
ggplot(data=df, aes(y=wins, x=floorPrice, colour=floorPriceType,size=floorPriceType))+geom_line()+geom_point()+ scale_size_manual(values=c(4,0.5))
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
print(p1)
print(p2)
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
?findInterval
?filter
?dplyr::filter
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
rawDF <- readInput()
mydata <- extractFromChangeColumns(rawDF)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
View(mydata)
nrow(data)
nrow(mydata)
nrow(mydata %>% filter (impressions>1000))
nrow(mydata %>% filter (!is.na(floorPrice) && !is.na(isOptimized))
)
head(is.na(mydata$floorPrice))
which(is.na(mydata$floorPrice))
nrow(mydata %>% filter (!is.na(floorPrice) || !is.na(isOptimized))
)
nrow(mydata %>% filter (is.na(floorPrice) || is.na(isOptimized)))
nrow(mydata %>% filter(is.na(floorPrice) || is.na(isOptimized)))
floorPrice
nrow(mydata %>% filter(is.na(isOptimized)))
nrow(mydata %>% filter(!is.na(isOptimized)))
nrow(mydata %>% filter(!is.na(isOptimized)) %>% filter(!is.na(floorPrice)))
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
nrow(mydata %>% filter(is.na(floorPrice) & is.na(isOptimized)))
nrow(mydata %>% filter(!is.na(floorPrice) & !is.na(isOptimized)))
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata<-extractFromChangeColumns(rawDF)
View(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
as.character(4)
as.character("1234")
rawDF <- readInput()
?subset
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
View(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
debugSource('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
character(5)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
mydata <- extractFromChangeColumns(rawDF)
a<-extractOptimizationGoal(rawDF)
getValueByDate(rawDF$performance_date[i], rawDF$optimizationGoal[i], rawDF$goalChangeDate[i], as.character)
rawDF$performance_date[i]
rawDF$optimizationGoal[i]
rawDF$optimizationGoal[1]
rawDF$optimizationGoal[2]
rawDF$optimizationGoal[3]
head(rawDF$optimizationGoal)
names(rawDF)
head(rawDF$optimization_goal)
getValueByDate(rawDF$performance_date[i], rawDF$optimization_goal[i], rawDF$goal_change_date[i], as.character)
debugSource('C:/Shahar/Projects/eCpmTooHigh/session1.R')
a<-extractOptimizationGoal(rawDF)
debugSource('C:/Shahar/Projects/eCpmTooHigh/session1.R')
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
a<-extractOptimizationGoal(rawDF)
head(a)
tail(a)
View(a)
a
which(is.na(a))
mydata <- extractFromChangeColumns(rawDF)
View(mydata)
plots()
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
unique(mydata$optimizationGoal)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
sum(mydata$optimizationGoal=="A" & mydata$ecpmSlack>0.15 )
?sum
sum(mydata$optimizationGoal=="A" & mydata$ecpmSlack>0.15 , na.rm=TRUE)
sum(mydata$optimizationGoal=="A" , na.rm=TRUE)
6426/22493
sum(mydata$optimizationGoal=="b" , na.rm=TRUE)
sum(mydata$optimizationGoal=="B" , na.rm=TRUE)
sum(mydata$optimizationGoal=="B" & mydata$ecpmSlack>0.15 , na.rm=TRUE)
1449/3744
?transmute
data %>% mutate(highSlack=ecpm_slack > 0.15)
library(dplyr)
data %>% mutate(highSlack=ecpm_slack > 0.15)
mydata %>% mutate(highSlack=ecpm_slack > 0.15)
mydata %>% mutate(highSlack=ecpmSlack > 0.15)
?group_by
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(optimizationGoal,highSlack) %>% summarise(count)
?summarise
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(optimizationGoal,highSlack) %>% summarise(count(optimizationGoal)
)
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(as.factor(optimizationGoal),highSlack) %>% summarise(count(optimizationGoal))
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(count(optimizationGoal))
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(as.factor(optimizationGoal))
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(sum(1)))
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(sum(1))
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(count(1))
mydata %>% mutate(highSlack=ecpmSlack > 0.15) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(n())
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
?geom_histogram
?between
mydata %>% mutate(highSlack=ecpmSlack > 0.30) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(n())
mydata %>% filter(meaningfulImpressions & meaningfulFloorPrice & !is.na(optimizationGoal)) %>% mutate(highSlack=ecpmSlack > 0.30) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(n())
library(dplyr)
mydata %>% filter(meaningfulImpressions & meaningfulFloorPrice & !is.na(optimizationGoal)) %>% mutate(highSlack=ecpmSlack > 0.30) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(n())
mydata %>% filter(meaningfulImpressions & meaningfulFloorPrice & !is.na(optimizationGoal) & isOptimized==1) %>% mutate(highSlack=ecpmSlack > 0.30) %>% group_by(as.factor(optimizationGoal),as.factor(highSlack)) %>% summarise(n())
install.packages("Hmisc")
library(Hmisc)
?wtd.quantile
?quantile
seq(0.1,1)
seq(0.1,0.2,1)
seq(0.1,1,0.2)
?dplytr::quantile
?dplyr::quantile
?dplyr::summarize
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots()
plots(mydata)
View(mydata)
?quanitle
?quantile
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
mydata(data2 %>% filter(optimizationGoal=='A') %>% select(ecpmSlack))
mydata %>% filter(optimizationGoal=='A') %>% select(ecpmSlack)
debugSource('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
data2 %>% filter(optimizationGoal=='A') %>% select(ecpmSlack)
quantile(data2 %>% filter(optimizationGoal=='A') %>% select(ecpmSlack), probs=seq(0.1, 1, 0.1) )
names(data2 %>% filter(optimizationGoal=='A') %>% select(ecpmSlack))
head(as.vector(data2 %>% filter(optimizationGoal=='A') %>% select(ecpmSlack)))
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
v<-mydata %>% filter(optimizationGoal=='A') %>% select(ecpmSlack)
class(v)
names(v)
nrow(v)
qunatile(v,0.5)
quantile(v,0.5)
quantile(v$ecpmSlack,0.5)
quantile(as.vector(v),0.5)
quantile(unlist(v),0.5)
quantile(v,0.5)
class(unlist(v))
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
?for
{}
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(mydata)
source('C:/Shahar/Projects/eCpmTooHigh/session1.R')
rawDF<-readInput()
mydata <- extractFromChangeColumns(rawDF)
rawDF =
1
rawDF =
rawDF = 1
1
rawDF<-readInput()
mydata <- extractFromChangeColumns(rawDF)
debugSource('C:/Shahar/Projects/eCpmTooHigh/session1.R')
plots(data)
plots(mydata)
nrow(mydata)
nrow(data2)
nrow(subset(data2, ecpmSlack >0.15))
nrow(subset(data2, goalType=="B", ecpmSlack >0.15))
nrow(subset(data2, goalType=="B"& ecpmSlack >0.15))
nrow(subset(data2, optimizationGoal=="B"& ecpmSlack >0.15))
nrow(subset(data2, optimizationGoal=="B"))
nrow(subset(data2, optimizationGoal=="B"& ecpmSlack >0.25))
nrow(subset(data2, optimizationGoal=="B"& ecpmSlack >0.35))
nrow(subset(data2, optimizationGoal=="B"& ecpmSlack >0.3))
nrow(subset(data2, optimizationGoal=="A+"& ecpmSlack >0.3))
nrow(subset(data2, optimizationGoal=="A"& ecpmSlack >0.081))
3357/11187
g
setwd("../mobileCheckout")
setwd("c:/shahar/projects/mobileCheckout")
setwd("c:/shahar/projects/mobileCheckup")
ls
ls()
df=read.csv("mobile_experiment_jul2015.csv")
View(df)
ggplot()+scatter(aes(x=GlobalFill,y=GlobalRcpm))
library(ggplot2)
ggplot()+scatter(aes(x=GlobalFill,y=GlobalRcpm))
ggplot()+scatterplot(aes(x=GlobalFill,y=GlobalRcpm))
?scatterplots
ggplot()+geom_point(aes(x=GlobalFill,y=GlobalRcpm))
ggplot(data=df)+geom_point(aes(x=GlobalFill,y=GlobalRcpm))
ggplot(data=df)+geom_point(aes(x=GlobalFill,y=GlobalRcpm,color=Network)
)
ggplot(data=df)+geom_point(aes(x=GlobalFill,y=GlobalRcpm,color=Network))
?melt
libarary(reshape2)
library(reshape2)
melt.data.frame
df1=melt(df,c("Netork"),c("GlobalRcpm","ExperimentRcpm"))
df1=melt(df,c("Network"),c("GlobalRcpm","ExperimentRcpm"))
View(df1)
df1=melt(df,c("Network","GlobalChain"),c("GlobalRcpm","ExperimentRcpm"))
View(df1)
df2=melt(df,c("Network","GlobalChain"),c("GlobalFill","ExperimentFill"))
df2=melt(df,c("Network","GlobalChain"),c("GlobalFill","ExperimentFill"),value.name="Rcpm")
df1=melt(df,c("Network","GlobalChain"),c("GlobalFill","ExperimentFill")), value.name="fill"
df1=melt(df,c("Network","GlobalChain"),c("GlobalFill","ExperimentFill"), value.name="fill")
df2=melt(df,c("Network","GlobalChain"),c("GlobalRcpm","ExperimentRcpm"), value.name="Rcpm")
library(dplyr)
?join
nrow(df1)
nrow(df2)
df1$num=1:2712
df2$num=1:2712
df3=join(df1,df2,by="num")
?join
df3=dplyr::join(df1,df2,by="num")
df3<-join(df1,df2,by="num")
df3 <- join(df1,df2,by="num")
View(df1)
View(df2)
join
dplyr::full_join
df3 <- full_join(df1,df2,by="num")
df3 <- inner_join(df1,df2,by="num")
nrow(df3)
View(df3)
df3 <- inner_join(df1,df2,by=c("Network","GlobalChain",num"))
)
""
df3 <- inner_join(df1,df2,by=c("Network","GlobalChain","num"))
View(df3)
ggplot(data=df3)+geom_point(aes(x=fill,y=Rcpm,color=variable.x))
ggplot(data=df3)+geom_point(aes(x=fill,y=Rcpm,color=c(variable.x,Network))
)
ggplot(data=df3)+geom_point(aes(x=fill,y=Rcpm,color=c(variable.x,Network)))
ggplot(data=df3)+geom_point(aes(x=fill,y=Rcpm,color=Network,color=variable.x))
ggplot(data=df3 %>% filter(Network="OpenX"))+geom_point(aes(x=fill,y=Rcpm,color=variable.x,color=variable.x))
ggplot(data=df3 %>% filter(Network=="OpenX"))+geom_point(aes(x=fill,y=Rcpm,color=variable.x,color=variable.x))
ggplot(data=df3 %>% filter(Network=="Pubmatic"))+geom_point(aes(x=fill,y=Rcpm,color=variable.x,color=variable.x))
ggplot(data=df3 %>% filter(Network=="Pubmatic"))+geom_point(aes(x=fill,y=Rcpm,colour=variable.x,color=variable.x))
ggplot(data=df3 %>% filter(Network=="Pubmatic"))+geom_point(aes(x=fill,y=Rcpm,colour=variable.x,color=variable.x)) + title("Pubmatic")
ggplot(data=df3 %>% filter(Network=="Pubmatic"))+geom_point(aes(x=fill,y=Rcpm,colour=variable.x,color=variable.x)) + ggtitle("Pubmatic")
unique(df3$Network)
a=2;b=3
k="Aol";ggplot(data=df3 %>% filter(Network==k))+geom_point(aes(x=fill,y=Rcpm,colour=variable.x,color=variable.x)) + ggtitle(k)
k="OpenX";ggplot(data=df3 %>% filter(Network==k))+geom_point(aes(x=fill,y=Rcpm,colour=variable.x,color=variable.x)) + ggtitle(k)
k="PulsePoint";ggplot(data=df3 %>% filter(Network==k))+geom_point(aes(x=fill,y=Rcpm,colour=variable.x,color=variable.x)) + ggtitle(k)
head(df)
ggplot(data=df) + geom_point(aes(x=GlobalFill, y=ExperimentFill))  + facet_wrap(~Network)
ggplot(data=df) + geom_point(aes(x=GlobalFill, y=ExperimentFill))  + facet_wrap(~Network) + geom_smooth(method="lm")
ggplot(data=df) + geom_point(aes(x=GlobalFill, y=ExperimentFill))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalFill, y=ExperimentFill), method="lm")
ggplot(data=df) + geom_point(aes(x=GlobalFill, y=ExperimentFill))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalFill, y=ExperimentFill, color=Network), method="lm")
ggplot(data=df) + geom_point(aes(x=GlobalFill, y=ExperimentFill, color=Network))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalFill, y=ExperimentFill), method="lm")
ggplot(data=df) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm")
ggplot(data=df) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3)
ggplot(data=df) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3) + ylim(0,0.3)
ggplot(data=df) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~PlacementId) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3) + ylim(0,0.3)
ggplot(data=df) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~Ordinal) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3) + ylim(0,0.3)
ggplot(data=df) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~ordinal) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3) + ylim(0,0.3)
names(df)
ggplot(data=df) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~Order) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3) + ylim(0,0.3)
df.filtered <- df[df$GlobalRcpm > 0 & ExperimentRcpm > 0,]
df.filtered <- df[df$GlobalRcpm > 0 && ExperimentRcpm > 0,]
df.filtered <- df[df$GlobalRcpm > 0 && df$EperimentRcpm > 0,]
df.filtered <- df[df$GlobalRcpm > 0 && df$ExperimentRcpm > 0,]
ggplot(data=df.filtered) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3) + ylim(0,0.3)
df.filtered <- df[df$GlobalRcpm > 0 & df$ExperimentRcpm > 0,]
ggplot(data=df.filtered) + geom_point(aes(x=GlobalRcpm, y=ExperimentRcpm, color=Network))  + facet_wrap(~Network) + geom_smooth(aes(x=GlobalRcpm, y=ExperimentRcpm), method="lm") + xlim(0,0.3) + ylim(0,0.3)
unique(df$PlacementId)
df %>% group_by(PlacementId,GlobalChain) %>% summarize(n())
h-df %>% group_by(PlacementId,GlobalChain) %>% summarize(n())
h=df %>% group_by(PlacementId,GlobalChain) %>% summarize(n())
View(h)
View(df)
ggplot(data=df+aes(x=GlobalFill,y=ExperimentFill))
ggplot(data=df+aes(x=GlobalFill,y=ExperimentFill))+geom_point()
ggplot(data=df,aes(x=GlobalFill,y=ExperimentFill))+geom_point()
ggplot(data=df,aes(x=GlobalFill,y=ExperimentFill))+geom_point()+facet_wrap(~Network)
ggplot(data=df,aes(x=GlobalFill,y=ExperimentFill))+geom_point(color=Network)
ggplot(data=df,aes(x=GlobalFill,y=ExperimentFill,color=Network))+geom_point()
df$tag=strsplit(GlobalChain[df$order])
df$tag=strsplit(df$GlobalChain[df$order])
df$tag=strsplit(df$GlobalChain[df$order],split=":")
df$tag=strsplit(df$GlobalChain,split=":")[df$order]
df$tag=strsplit(as.character(df$GlobalChain),split=":")[df$order]
debugSource('C:/Shahar/Projects/MobileCheckup/session1.R')
print(s)
debugSource('C:/Shahar/Projects/MobileCheckup/session1.R')
strsplit(chain[i], split = ":")
print(S)
print(s)
print(s[[1]])
print(s[[0]])
print(s[1])
class(s)
class(s[[1]])
debugSource('C:/Shahar/Projects/MobileCheckup/session1.R')
print(s)
df$order[i]
debugSource('C:/Shahar/Projects/MobileCheckup/session1.R')
df$Order[i]
print(S)
print(s)
debugSource('C:/Shahar/Projects/MobileCheckup/session1.R')
print(i)
print(s)
debugSource('C:/Shahar/Projects/MobileCheckup/session1.R')
print(s)
fp[1]
source('C:/Shahar/Projects/MobileCheckup/session1.R')
View(df)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm,color="blue"))+geom_point(aes(x=floorPrice,y=ExperimentEcpm,color="blue"))+facet_wrap(~Network)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm,color="blue"))+geom_point(aes(x=floorPrice,y=ExperimentEcpm,color="red"))+facet_wrap(~Network)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm,color="blue"))+geom_point(aes(x=floorPrice,y=ExperimentEcpm,color=black))+facet_wrap(~Network)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm,color="blue"))+geom_point(aes(x=floorPrice,y=ExperimentEcpm,color="black"))+facet_wrap(~Network)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm),color="blue"))+geom_point(aes(x=floorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~Network)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~Network)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~PlacementId)
ggplot(df%>%filter(PlacementId=="ad3f290182679590a3d68705b9d324a2"))+geom_point(aes(x=floorPrice,y=GlobalEcpm),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~Network)
ggplot(df%>%filter(PlacementId=="3d5146ac12ad9dcc3bd75f4c221c469e"))+geom_point(aes(x=floorPrice,y=GlobalEcpm),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~Network)
ggplot(df%>%filter(PlacementId=="fc33ea6260add1d1d8b24d1df509a452"))+geom_point(aes(x=floorPrice,y=GlobalEcpm),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~Network)
ggplot(df%>%filter(PlacementId=="fc33ea6260add1d1d8b24d1df509a452"))+geom_point(aes(x=floorPrice,y=GlobalFill),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentFill),color="black")+facet_wrap(~Network)
ggplot(df%>%filter(PlacementId=="fc33ea6260add1d1d8b24d1df509a452"))+geom_point(aes(x=floorPrice,y=GlobalFill),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentFill),color="black")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalFill),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentFill),color="black")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_point(aes(x=Order,y=GlobalFill),color="blue")+geom_point(aes(x=Order,y=ExperimentFill),color="black")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_point(aes(x=Order,y=GlobalEcpm),color="blue")+geom_point(aes(x=Order,y=ExperimentEcpm),color="black")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_point(aes(x=FloorPrice,y=GlobalEcpm),color="blue")+geom_point(aes(x=FloorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalEcpm),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentEcpm),color="black")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalFill),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentFill),color="black")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_point(aes(x=floorPrice,y=GlobalFill),color="blue")+geom_point(aes(x=floorPrice,y=ExperimentFill),color="red")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_density(aes(x=floorPrice,y=GlobalFill),fill="gray")+geom_density(aes(x=floorPrice,y=ExperimentFill),fill="pink")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_density(aes(x=GlobalFill),fill="gray")+geom_density(aes(x=ExperimentFill),fill="pink")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_density(aes(x=GlobalFill),fill="gray")+geom_density(aes(x=ExperimentFill),fill="pink")+facet_wrap(~Network+PlacementId) + xlim(0,0.25)
ggplot(df)+geom_density(aes(x=GlobalFill),fill="gray")+geom_density(aes(x=ExperimentFill),fill="pink")+facet_wrap(~Network+PlacementId) + xlim(0,0.25) + ylim(0,100)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=GlobalFill),color="blue")+geom_boxplot(aes(x=floorPrice,y=ExperimentFill),color="red")+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=GlobalFill),color="blue", alpha=0.3)+geom_boxplot(aes(x=floorPrice,y=ExperimentFill),color="red", alpha=0.3)+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=GlobalRcpm),color="blue", alpha=0.3)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm),color="red", alpha=0.3)+facet_wrap(~Network+PlacementId)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=GlobalRcpm),color="blue", alpha=0.3)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm),color="red", alpha=0.3)+facet_wrap(~Network+PlacementId) + ylim(0,0.1)
unique(df$PlacementId)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=GlobalRcpm),color="blue", alpha=0.3)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm),color="red", alpha=0.3)+facet_wrap(Network ~ PlacementId) + ylim(0,0.1)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=GlobalRcpm),color="blue", alpha=0.3)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm),color="red", alpha=0.3)+facet(Network ~ PlacementId) + ylim(0,0.1)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=GlobalRcpm),color="blue", alpha=0.3)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm),color="red", alpha=0.3)+facet_grid(Network ~ PlacementId) + ylim(0,0.1)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm/GlobalRcpm)) + facet_grid(Network ~ PlacementId)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm/GlobalRcpm)) + facet_grid(Network ~ PlacementId) + ylim(0,0.1)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm/GlobalRcpm)) + facet_grid(Network ~ PlacementId)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=ExperimentRcpm/GlobalRcpm)) + facet_grid(Network ~ PlacementId) + ylim(0,1)
ggplot(df)+geom_boxplot(aes(x=floorPrice,y=ExperimentFill/GlobalFill)) + facet_grid(Network ~ PlacementId) + ylim(0,1)
levels(df$PlacementId)
print(levels(df$PlacementId))
paste(levels(df$PlacementId),sep="','")
unlist(levels(df$PlacementId),sep="','")
unlist(levels(df$PlacementId))
paste("a","b'")
paste(c("a","b'"))
paste(c("a","b'"),collapse="")
paste(levels(df$PlacementId),collapse="','")
unique(df$Date)
sort(unique(df$Date))
m=read.csv("mobile_percents.csv")
View(m)
names(m)[4]="mobile_percent"
names(m)[2]="mobileImpression"
names(m)[2]="desktopImpression"
names(m)[2]="mobileImpression"
names(m)[3]="desktopImpression"
names(m)[4]="mobilePercent"
names(m)[1]="PlacementId"
dfj=join(df,m)
dfj=join_data.frame(df,m)
?join
dfj=join_inner(df,m)
dfj=inner_join(df,m)
View(dfj)
dfj1 <- dfj %>% select(PlacmentId, Date, Network, Order, floorPrice GlobalChain, GlobalType, MobileImpressions=GlobalImpressions*MobilePercent, MobileServed = MobileImpressions*ExperimentFill, DesktopImpressions=GlobalImpressions*(1-MobilePercent), DesktopServed=GlobalServed-MobileServed, MobileIncome=MobileServed*ExperimentEcpm, DesktopIncome=GlobalIncome-MobileIncome)
dfj1 <- dfj %>% select(PlacmentId, Date, Network, Order, floorPrice, GlobalChain, GlobalType, MobileImpressions=GlobalImpressions*MobilePercent, MobileServed = MobileImpressions*ExperimentFill, DesktopImpressions=GlobalImpressions*(1-MobilePercent), DesktopServed=GlobalServed-MobileServed, MobileIncome=MobileServed*ExperimentEcpm, DesktopIncome=GlobalIncome-MobileIncome)
dfj1 <- dfj %>% select(PlacementId, Date, Network, Order, floorPrice, GlobalChain, GlobalType, MobileImpressions=GlobalImpressions*MobilePercent, MobileServed = MobileImpressions*ExperimentFill, DesktopImpressions=GlobalImpressions*(1-MobilePercent), DesktopServed=GlobalServed-MobileServed, MobileIncome=MobileServed*ExperimentEcpm, DesktopIncome=GlobalIncome-MobileIncome)
dfj1 <- dfj %>% select(PlacementId, Date, Network, Order, floorPrice, GlobalChain, GlobalType, MobileImpressions=GlobalImpressions*mobilePercent, MobileServed = MobileImpressions*ExperimentFill, DesktopImpressions=GlobalImpressions*(1-mobilePercent), DesktopServed=GlobalServed-MobileServed, MobileIncome=MobileServed*ExperimentEcpm, DesktopIncome=GlobalIncome-MobileIncome)
dfj1 <- dfj %>% mutate(PlacementId, Date, Network, Order, floorPrice, GlobalChain, GlobalType, MobileImpressions=GlobalImpressions*mobilePercent, MobileServed = MobileImpressions*ExperimentFill, DesktopImpressions=GlobalImpressions*(1-mobilePercent), DesktopServed=GlobalServed-MobileServed, MobileIncome=MobileServed*ExperimentEcpm, DesktopIncome=GlobalIncome-MobileIncome)
View(dfj1)
dfj1 <- dfj %>% transmute(PlacementId, Date, Network, Order, floorPrice, GlobalChain, GlobalType, MobileImpressions=GlobalImpressions*mobilePercent, MobileServed = MobileImpressions*ExperimentFill, DesktopImpressions=GlobalImpressions*(1-mobilePercent), DesktopServed=GlobalServed-MobileServed, MobileIncome=MobileServed*ExperimentEcpm, DesktopIncome=GlobalIncome-MobileIncome)
source('C:/Shahar/Projects/MobileCheckup/session1.R')
View(dfj1)
source('C:/Shahar/Projects/MobileCheckup/session1.R')
?runif
source('C:/Shahar/Projects/MobileCheckup/session1.R')
sum(is.na(dfj1$DesktopServed))
sum(is.na(dfj1$DesktopFill))
source('C:/Shahar/Projects/MobileCheckup/session1.R')
ggplot(dfj1)+geom_boxplot(aes(x=floorPrice,y=MobileFill/DesktopFill)) + facet_grid(Network ~ PlacementId) + ylim(0,1)
ggplot(dfj1)+geom_boxplot(aes(x=floorPrice,y=MobileEcpm/DesktopEcpm)) + facet_grid(Network ~ PlacementId) + ylim(0,1)
ggplot(dfj1)+geom_boxplot(aes(y=MobileFill/DesktopFill)) + facet_grid(Network ~ PlacementId)
?geom_boxplot
ggplot(dfj1)+geom_boxplot(aes(x=NA,y=MobileFill/DesktopFill)) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_boxplot(aes(x=1,y=MobileFill/DesktopFill)) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_boxplot(aes(x=1,y=MobileFill),colour="blue",alpha=0.3) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_density(aes(x=MobileFill/DesktopFill),fill="blue",alpha=0.3) + facet_grid(Network ~ PlacementId)
5 in c(5,6,7)
?in
in(5,c(4,6,7))
5 %in% c(5,6,7)
!5 %in% c(5,6,7)
source('C:/Shahar/Projects/MobileCheckup/session1.R')
ggplot(dfj1)+geom_boxplot(aes(x=MobileFill),fill="blue",alpha=0.3) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_boxplot(aes(x=1,y=MobileFill),fill="blue",alpha=0.3) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_boxplot(aes(x=MobileFill),fill="blue",alpha=0.3) + geom_boxplot(aes(x=DesktopFill),fill="red",alpha=0.3) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_boxplot(aes(x=1, y=MobileFill),fill="blue",alpha=0.3) + geom_boxplot(aes(x=1, y=DesktopFill),fill="red",alpha=0.3) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_boxplot(aes(x=1, y=MobileFill), color="blue", fill="blue",alpha=0.3) + geom_boxplot(aes(x=1, y=DesktopFill),color="red",fill="red",alpha=0.3) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_boxplot(aes(x=1, y=MobileEcpm), color="blue", fill="blue",alpha=0.3) + geom_boxplot(aes(x=1, y=DesktopEcpm),color="red",fill="red",alpha=0.3) + facet_grid(Network ~ PlacementId)
ggplot(dfj1)+geom_histogram(MobileEcpm)
ggplot(dfj1)+geom_histogram(aes(x=MobileEcpm))
ggplot(dfj1)+geom_histogram(aes(x=MobileEcpm),color="blue")+geom_histogram(aes(x=MobileEcpm),color="red")
ggplot(dfj1)+geom_histogram(aes(x=MobileEcpm),color="blue")+geom_histogram(aes(x=MobileEcpm),fill="red",alpha=0.3)
ggplot(dfj1)+geom_histogram(aes(x=MobileEcpm),color="blue")+geom_histogram(aes(x=DesktopEcpm),fill="red",alpha=0.3)
ggplot(dfj1)+geom_histogram(aes(x=MobileEcpm),color="blue",alpha=0.3)+geom_histogram(aes(x=DesktopEcpm),fill="red",alpha=0.3)
ggplot(dfj1)+geom_histogram(aes(x=MobileEcpm),color="blue",fill="none",alpha=0.3)+geom_histogram(aes(x=DesktopEcpm),fill="red",alpha=0.3)
ggplot(dfj1)+geom_histogram(aes(x=MobileEcpm),color="blue",fill=NA,alpha=0.3)+geom_histogram(aes(x=DesktopEcpm),fill="red",alpha=0.3)
summarise(dfj1$MobileEcpm)
summary(dfj1$MobileEcpm)
summarise(dfj1$DesktopEcpm)
summary(dfj1$DesktopEcpm)
source('C:/Shahar/Projects/MobileCheckup/session1.R')
summary(dfj1$DesktopEcpm)
