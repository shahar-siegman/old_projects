View(factor1Summary)
View(factor1_2Summary)
groupByWithRollup(df2,"network","unique_upchain")
View(factor1_2Summary)
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
groupByWithRollup(df2,"network","unique_upchain")
GroupByWithRollup(df2,"network","unique_upchain")
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
GroupByWithRollup(df2,"network","unique_upchain")
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
GroupByWithRollup(df2,"network","unique_upchain")
View(rbind1)
View(rbind2)
View(res)
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
nrow(df)
nrow(df %>% filter(impressions=NA))
nrow(df %>% filter(NA=NA))
nrow(df %>% filter(impressions==NA))
nrow(df %>% filter(NA==NA))
nrow(df %>% filter(!impressions==NA))
names(c("a"="b'"))
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
tt1 <- prepareSuperFactorTable(df2, "Network", c("unique_upchain","floor_price"))
tt1 <- prepareSuperFactorTable(df2, "network", c("unique_upchain","floor_price"))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
tt1 <- prepareSuperFactorTable(df2, "network", c("unique_upchain","floor_price"))
View(refTable)
currentFactorName
tt1 <- prepareSuperFactorTable(df2, "network", c("unique_upchain","floor_price"))
factor1
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
tt1 <- prepareSuperFactorTable(df2, "network", c("unique_upchain","floor_price"))
View(refTable)
View(tt1)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
tt1 <- prepareSuperFactorTable(df2, "network", c("unique_upchain","floor_price"))
f
View(tt1)
tt1 %>% filter(factor2_name=="_", factor2_value=="_") %>%
`[[`("factor1_name") %>% `[`(1)
View(tt1)
tt1 %>% filter(factor2_name=="_", factor2_level=="_") %>%
`[[`("factor1_name") %>% `[`(1)
?case
?filter
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
1/0
0/0
prod(1,4,4,5)
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 2.4))
case
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 2.4))
case[superFactorName]
df[[names[1]]]==case[1]
df[[cols[1]]]==case[1]
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 2.4))
nrow(df2)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 2.4))
sum(cond)
nrow(filter(df2,network=="e",uniqu_upchain="e:j:t"))
nrow(filter(df2,network=="e",uniqu_upchain=="e:j:t"))
nrow(filter(df2,network=="e",unique_upchain=="e:j:t"))
nrow(filter(df2,network=="e"&unique_upchain=="e:j:t"))
sum(df2$network=="e" & df2$unique_upchain=="e:j:t")
df2[df2$network=="e" & df2$unique_upchain=="e:j:t",]
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
sum(cond)
rows
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
traceback()
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
df[[cols[1]]]==case[1]
ls("cond")
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
a <- df[[cols[1]]]==case[1]
cond <- df[[cols[1]]]==case[1]
sum(cond)
nrow(df)
nrow(rows)
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
retrieve.ref.t(refTable, superFactorLevel, currentFactorName, currentFactorLevel)
Pxj_served.xi(refTable, superFactorLevel,currentFactorName,currentFactorLevel, selfServed)
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
Pxj_served.xi(refTable, superFactorLevel,currentFactorName,currentFactorLevel, selfServed)
row1
row2
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
pxj
pxi
View(refTable)
64218522/(64215855+1284859+35833874)
8321696/(64215855+1284859+35833874)
Pserved_xi(refTable,"e")
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
traceback()
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
XjGivenXi
row1
row2
selfImps
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
ClassifySingleCaseLeaveOneOut(tt1, df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
pServedXj
pXjXi
pServedXi
pxi
retrieve_generic(df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
retrieve.generic(df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
r<-retrieve.generic(df2, c(network="e","unique_upchain"="e:j:t", floor_price = 1.90))
sum(r$served)/sum(r$impressions)
?apply
?do.call
a<-do.call(group_by_,c(df2,list("network","unique_upchain")))
c(df2,list("network","unique_upchain"))
list(df2,list("network","unique_upchain"))
?group_by_
?unique
f=c("network","unique_upchain"))
f=c("network","unique_upchain")
f
e <- df %>% select_(f)
e <- df2 %>% select_(f)
View(e)
e <- do.call(select_, list(df2,"network", "unique_upchain"))
e1 <- unique(e)
View(e1)
row()
row
row1
dfs <- df2[42,]
dfs
list(dfs,"a","b")
list(dfs,c("a","b"))
list(dfs,as.list(c("a","b")))
list(dfs,unlist(c("a","b")))
c(dfs,c("a","b"))
c(dfs,list("a","b"))
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
LeaveOneOutTest(df2,c("unique_upchain","network"))
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
LeaveOneOutTest(df2,c("unique_upchain","network"))
?dlply
?ldply
?ddply
?dply
%>%
library(plyr)
library(dplyr)
?ldply
?dlply
?alply
alply(dfs, 1, unlist)
dfs2 <- alply(dfs, 1, unlist)
class(dfs2)
dfs2[[1]]
e <- LeaveOneOutTest(df2,c("unique_upchain","network"))
dfs2 <- alply(e, 1, unlist)
dfs2[[1]]
dfs2[[2]]
dfs2[[3]]
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
LeaveOneOutTest(df2, c("network","unique_upchain","floor_price"))
View(existingCaseList)
existingCaseList[[1]]
existingCaseList[[2]]
existingCaseList[[2]][1]
existingCaseList[[2]][[1]]
class(existingCaseList[[2]])
View(df2)
do.call(select_, args) %>% View()
do.call(select_, args) %>% unique() %>% View()
class(existingCaseList)
class(existingCaseList$15)
class(existingCaseList$`15`)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
k <- LeaveOneOutTest(df2, c("network","unique_upchain","floor_price"))
nExisting <- nrow(existing)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
k <- LeaveOneOutTest(df2, c("network","unique_upchain","floor_price"))
factors[2:length(factors)]
k <- LeaveOneOutTest(df2, c("network","unique_upchain","floor_price"))
factor1
k <- LeaveOneOutTest(df2, c("network","unique_upchain","floor_price"))
factor1Summary[[factor1]]
factor1
factor1Summary
names(df)
df %>% group_by_(factor1) %>% summarise(served=sum(served), impressions=sum(impressions))
nrow(df)
df %>% group_by_("network") %>% summarise(served=sum(served), impressions=sum(impressions))
unique(df$network)
class(df$network)
sum(df %>% filter(network=="e") %>% `[[`("impressions"))
df %>% filter(network=="e") %>% `[[`("impressions")
df %>% filter(network=="e")
df %>% filter(network=="t")
df$network
df %>% filter(network==1)
traceback()
df2 %>% filter(network==1)
df2
df2 %>% filter(network=="e")
library(plyr)
library(dplyr)
df2 %>% filter(network=="e")
ls()
source('C:/Shahar/Projects/Optimization/placement_attributes/session1.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
df
df <- loadDF2()
df2 <- df %>% filter(placement_id==levels(df$placement_id)[[22]])
nrow(df2)
preprocess(df2)
source('C:/Shahar/Projects/Optimization/placement_attributes/session1.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
preprocess(df2)
df3 <- preprocess(df2)
nrow(df3)
ncol(df3)
UpchainNetworks(df3)
df4 <- UpchainNetworks(df3)
gsub
df4  %>% mutate(chain_networks = gsub("[0-9.=]+","",df$chain),
upchain_networks = substr(chain_networks,1,as.numeric(as.character(ordinal))*2-1),
unique_upchain = uniqueChainTags(upchain_networks))
df4  %>% mutate(chain_networks = gsub("[0-9.=]+","",df4$chain))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
df4$chain_networks <- gsub("[0-9.=]+","",df4$chain)
df4 %>% mutate(upchain_networks = substr(chain_networks,1,as.numeric(as.character(ordinal))*2-1),
unique_upchain = uniqueChainTags(upchain_networks))
df4 <- UpchainNetworks(df4)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
source('C:/Shahar/Projects/Optimization/placement_attributes/session4.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
row1
nrow(refTable)
factorILevel
factorJName
factorJLevel
row2
retrieve.ref.t(refTable, factorILevel, factorJName, factorJLevel)
retrieve.ref.t(refTable, "e", factorJName, factorJLevel)
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
existing[1,]
unlist(existing[1,])
class(unlist(existing[1,]))
currentCase <- existing[i,]
case[superFactorName]
class(case[superFactorName])
class(case][superFactorName]])
class(case[[superFactorName]])
names(case)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
otherFactorNames
names(case)
class(c)
class(case)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
case[[superFactorName]]
names(case)
case[,otherFactorNames]
class(otherFactorLevels)
case[1]
nrow(df)
nrow(df[[cols[1]]]==case[1])
class(case)
as.list(case)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
case[[superFactorName]]
case[,otherFactorNames]
case[otherFactorNames]
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
View(k)
k$fill <- k$served/k$impressions
ggplot(k) + geom_point(aes(x=fill,y=prediction))
k$network_upchain<-paste(k$network, k$unique_upchain,sep="_")
ggplot(k) + geom_path(aes(x=fill,y=prediction,group=network_upchain, color=network_upchain))
ggplot(k) + geom_path(aes(x=floor_price,y=prediction,group=network_upchain, color=network_upchain))
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
refRow
row1$served
selfServed
row2$served
p
pCase
pxi
pXjXi
otherFactorNames
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
factorILevel
factorJName
factorJLevel
is.na(factor1Level)
refT %>% filter(factor2_name == factor2Name,
factor2_level == factor2Level) %>%
group_by() %>% summarise(impressions = sum(impressions), served=sum(served))
row1
row2
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
nrow(filter(refTable,factor2Name=factorJName))
nrow(filter(refTable,factor2Name==factorJName))
nrow(filter(refTable,factor2_name==factorJName))
nrow(filter(refTable,factor2_name==factorJName, factor2_level=factorJLevel))
nrow(filter(refTable,factor2_name==factorJName, factor2_level==factorJLevel))
filter(refTable,factor2_name==factorJName, factor2_level==factorJLevel)
nrow(retrieve.generic(refTable, c(factor2_name=factorJName, factor2_level=factorJLevel)))
nrow(retrieve.generic(refTable, list(factor2_name=factorJName, factor2_level=factorJLevel)))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
Length(case)
length(case)
2:length(case)
2:@
2:2
2:-19
sum(cond)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
factorJLevel
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
View(k1)
sum(k1$prediction==0)
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
פ
p
pXjXi
pxi
pServedXi
pServedXj
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
p
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price"))
View(kw)
View(k1)
sum(k1$prediction==0)
df4$floor_price_20 = floor(df4$floor_price/0.2)*0.2
k1 <- LeaveOneOutTest(df4, c("network","unique_upchain","floor_price_20"))
View(k1)
k1$fill = k1$served/k1$impressions
ggplot(k1) + geom_point(aes(x=fill, y=prediction))
k2 <- LeaveOneOutTest(df4, c("unique_upchain","network","floor_price_20"))
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k2 <- LeaveOneOutTest(df4, c("unique_upchain","network","floor_price_20"))
factorJLevel
retrieve.ref.t(refTable, factorILevel, factorJName, "e")
factorJLevel
dbstack()
traceback()
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k2 <- LeaveOneOutTest(df4, c("unique_upchain","network","floor_price_20"))
df4$network <- as.character(df4$network)
k2 <- LeaveOneOutTest(df4, c("unique_upchain","network","floor_price_20"))
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k2 <- LeaveOneOutTest(df4, c("unique_upchain","network","floor_price_20"))
ggplot(k2) + geom_point(aes(x=fill, y=prediction))
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k2 <- LeaveOneOutTest(df4, c("unique_upchain","network","floor_price_20"))
ggplot(k2) + geom_point(aes(x=fill, y=prediction))
k3 <- LeaveOneOutTest(df4, c("floor_price_20","unique_upchain","network"))
ggplot(k3) + geom_point(aes(x=fill, y=prediction))
ggplot() + geom_point(data=k1,aes(x=fill, y=prediction), color="red") + geom_point(data=k2,aes(x=fill, y=prediction), color="cyan") + geom_point(data=k3,aes(x=fill, y=prediction), color="black")
1:10 !=4
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k3 <- LeaveOneOutFullTest(df4, c("floor_price_20","unique_upchain","network"))
debugSource('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k3 <- LeaveOneOutFullTest(df4, c("floor_price_20","unique_upchain","network"))
View(k)
View(kn)
View(k)
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
k3 <- LeaveOneOutFullTest(df4, c("floor_price_20","unique_upchain","network"))
ggplot(k3) + geom_point(aes(x=fill,y=prediction,color=super))
view(df4)
View(df4)
k3 <- LeaveOneOutFullTest(df4, c("floor_price_20","upchain_networks","network"))
View(df4)
ggplot(k3) + geom_point(aes(x=fill,y=prediction,color=super))
?cor(k3$prediction,k3$fill,use="pair")
cor(k3$prediction,k3$fill,use="pairwise.complete.obs")
kd <- k3 %>% group_by(floor_price_20,upchain_networks,network) %>% mutate(served = mean(served), impressions = mean(impressions), fill=mean(fill), prediction = mean(prediction))
View(k3)
cor(kd$fill, kd$prediction, use="pairwise.complete.obs")
kd <- k3 %>% group_by(floor_price_20,upchain_networks,network) %>% mutate(served = mean(served), impressions = mean(impressions), fill=mean(fill), prediction = median(prediction))
cor(kd$fill, kd$prediction, use="pairwise.complete.obs")
k4 <- LeaveOneOutFullTest(df4, c("floor_price_20","ordinal","network"))
df4$ordinal <- as.numeric(df4$ordinal)
k4 <- LeaveOneOutFullTest(df4, c("floor_price_20","ordinal","network"))
kd2 <- k4 %>% group_by(floor_price_20,ordinal,network)  %>% summarise(served = mean(served), impressions = mean(impressions), fill=mean(fill), prediction = mean(prediction))
cor(kd2$fill, kd$prediction, use="pairwise.complete.obs")
cor(kd2$fill, kd2$prediction, use="pairwise.complete.obs")
k5 <- LeaveOneOutFullTest(df4, c("floor_price_20","upchain_networks","network"))
kd3 <- k5 %>% group_by(floor_price_20,ordinal,network)  %>% summarise(served = mean(served), impressions = mean(impressions), fill=mean(fill), prediction = mean(prediction))
kd3 <- k5 %>% group_by(floor_price_20,upchain_networks,network)  %>% summarise(served = mean(served), impressions = mean(impressions), fill=mean(fill), prediction = mean(prediction))
cor(kd3$fill, kd3$prediction, use="pairwise.complete.obs")
k6 <- LeaveOneOutFullTest(df4, c("floor_price_20","ordinal"))
kd6 <- k6 %>% group_by(floor_price_20,ordinal)  %>% summarise(served = mean(served), impressions = mean(impressions), fill=mean(fill), prediction = mean(prediction))
cor(kd6$fill, kd6$prediction, use="pairwise.complete.obs")
source('C:/Shahar/Projects/Optimization/placement_attributes/aode.R')
?kmeans
ls
ls()
names(df)
head(df)
df %>% group_by(tag_name, floor_price) %>% summarise()
source('C:/Shahar/Projects/Optimization/placement_attributes/aodeCore.R')
df %>% group_by(tag_name, floor_price) %>% summarise()
df %>% group_by(tag_name, floor_price) %>% summarise() %>% View()
nrow(df)
df %>% group_by(placement_id) %>% summarise()
df1 %>% group_by(placement_id) %>% summarise()
df2 %>% group_by(placement_id) %>% summarise()
df2 %>% group_by(tag_name, floor_price) %>% summarise() %>% View()
ggplot(df2 %>% group_by(tag_name, floor_price) %>% summarise()) + geom_histogram(aes(x=floor_price))
ggplot(df2 %>% group_by(tag_name, floor_price) %>% summarise()) + geom_histogram(aes(x=floor_price), binwidth = 0.1)
df2 %>% group_by(tag_name, floor_price) %>% summarise() %>% select(floor_price) %>% View()
df2 %>% group_by(tag_name, floor_price) %>% summarise() %>% transmute(floor_price) %>% View()
df2 %>% group_by(tag_name, floor_price) %>% summarise() %>% ungroup() %>% select(floor_price) %>% View()
source('C:/Shahar/Projects/Optimization/placement_attributes/modelingTools.R')
cl <- clusterFloorPrices(df2)
source('C:/Shahar/Projects/Optimization/placement_attributes/modelingTools.R')
cl <- clusterFloorPrices(df2)
cl$centers
cl$cluster
source('C:/Shahar/Projects/Optimization/placement_attributes/modelingTools.R')
cl$cluster
clusterFloorPrices(df2) %>% View()
clusterFloorPrices(df2) %>% arrange(floor_price) %>% View()
cl <- clusterFloorPrices(df2) %>% arrange(floor_price)
ggplot(cl) + geom_histogram(aes(x=floor_price,fill=cluster))
cl
ggplot(cl) + geom_histogram(aes(x=floor_price,fill=as.factor(cluster)))
View(cl)
min(c(1,2,34))
seq(1,3)/4
i=3
quantile(floorPriceList$floor_price, seq(1,i)/(i+1))
quantile(cl$floor_price, seq(1,i)/(i+1))
source('C:/Shahar/Projects/Optimization/placement_attributes/modelingTools.R')
cl <- clusterFloorPrices(df2) %>% arrange(floor_price)
ggplot(cl) + geom_histogram(aes(x=floor_price,fill=as.factor(cluster)))
source('C:/Shahar/Projects/Optimization/placement_attributes/modelingTools.R')
cl <- clusterFloorPrices(df2) %>% arrange(floor_price)
ggplot(cl) + geom_histogram(aes(x=floor_price,fill=as.factor(cluster)))
source('C:/Shahar/Projects/Optimization/placement_attributes/modelingTools.R')
df %>% group_by(tag_name, floor_price) %>% summarise() %>% ungroup() %>% View()
df %>% group_by(tag_name, floor_price) %>% summarise(cn=n()) %>% ungroup() %>% View()
df2 %>% group_by(tag_name, floor_price) %>% summarise(cn=n()) %>% ungroup() %>% View()
require("quadprog")
install.packages("quadprog")
library(quadprog)
version()
version
source('C:/Shahar/Projects/Optimization/placement_attributes/modelingTools.R')
Dmat       <- matrix(0,3,3)
diag(Dmat) <- 1
dvec       <- c(0,5,0)
Amat       <- matrix(c(-4,-3,0,2,1,0,0,-2,1),3,3)
bvec       <- c(-8,2,0)
solve.QP(Dmat,dvec,Amat,bvec=bvec)
