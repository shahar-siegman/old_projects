source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
levels(df3$ua_browser)
source('C:/Shahar/Projects/Video/session5.R')
levels(df3$ua_browser)
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
source('C:/Shahar/Projects/Video/session5.R')
session5()
hist.df
source('C:/Shahar/Projects/Video/session2.R')
nrow(dff)
source('C:/Shahar/Projects/Video/session2.R')
source('C:/Shahar/Projects/Video/session5.R')
?read.csv
source('C:/Shahar/Projects/Video/session2.R')
source('C:/Shahar/Projects/Video/session5.R')
a=b
source('C:/Shahar/Projects/Video/session5.R')
session5(reload=T)
source('C:/Shahar/Projects/Video/session5.R')
session5(reload=T)
source('C:/Shahar/Projects/Video/session5.R')
session5(reload=T)
source('C:/Shahar/Projects/Video/session5.R')
session5(reload=F)
session5(reload=T)
source('C:/Shahar/Projects/Video/session5.R')
?n
ls
ls()
nrow(df4)
nrow(df5)
nchar(df5$ua_browser_ver)>10
class(df5$ua_browser_ver)
class(as.character(df5$ua_browser_ver))
class(as.character(df5$ua_browser_ver)))
class(as.character(df5$ua_browser_ver))
nchar(as.character(df5$ua_browser_ver))>10
nchar(as.character(df5$ua_browser_ver)>10)
nchar(as.character(df5$ua_browser_ver))>10
sum(nchar(as.character(df5$ua_browser_ver))>10)
debugSource('C:/Shahar/Projects/Video/session1.R')
source('C:/Shahar/Projects/Video/session5.R')
debugSource('C:/Shahar/Projects/Video/session5.R')
df4 <- session5(T,F)
session5DiscrepancyTradeoffPlot(df5)
debugSource('C:/Shahar/Projects/Video/session5.R')
df4 <- session5(T,F)
source('C:/Shahar/Projects/Video/session5.R')
df4 <- session5(T,F)
source('C:/Shahar/Projects/Video/session5.R')
attr1 = "b"
attr2="as.formula(paste(c(attribute1,attribute2),collapse="~")),"
attr2="c"
as.formula(paste(c(attr1,attr2),collapse="~")),
as.formula(paste(c(attr1,attr2),collapse="~"))
source('C:/Shahar/Projects/Video/session5.R')
View(df4)
levels(df4$ua_browser)
source('C:/Shahar/Projects/Video/session5.R')
old.dff <- dff
dff <- df4
session5()
nrow(country.hdi)
names(country.hdi)
debugSource('C:/Shahar/Projects/Video/session2.R')
session5()
source('C:/Shahar/Projects/Video/session2.R')
session5()
View(df)
debugSource('C:/Shahar/Projects/Video/session5.R')
session5()
facet_grid
?facet_grid
debugSource('C:/Shahar/Projects/Video/session5.R')
session5()
debugSource('C:/Shahar/Projects/Video/session5.R')
source('C:/Shahar/Projects/Video/session5.R')
session5()
p<-session5()
?load.csv
?read.csv
debugSource('C:/Shahar/Projects/Video/session1.R')
source('C:/Shahar/Projects/Video/session1.R')
source('C:/Shahar/Projects/Video/session5.R')
p<-session5()
p[[1]]
source('C:/Shahar/Projects/Video/session5.R')
p<-session5()
source('C:/Shahar/Projects/Video/session5.R')
p<-session5()
p[[1]]
dff  <- session5(T,F)
p <- session5
p <- session5()\
p <- session5()
p[[1]]
p <- session5()
names(df)
p
class(df$tvadStart)
class(df$lastHb)
debugSource('C:/Shahar/Projects/Video/session5.R')
p <- session5()
debugSource('C:/Shahar/Projects/Video/session5.R')
p <- session5()
class(df$lastHb)
class(na.if.not(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb))
class(ifelse(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb, NA))
head(ifelse(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb, NA))
head(ifelse(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb, NA),100)
class(df$resp1)
class(df$resp4)
class(df$resp5)
class(df$lastHb>0)
sum(!is.na(na.if.not(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb)))
View(df)
debugSource('C:/Shahar/Projects/Video/session5.R')
dff  <- session5(T,F)
View(df)
p <- session5()
p
debugSource('C:/Shahar/Projects/Video/session5.R')
dff  <- session5(T,F)
nrow(dff)
p <- session5()
p
class(df$lastHbP)
View(df)
View(dff)
p <- session5()
class(df$lastHbP)
class(na.if.not(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb))
sum(is.na(na.if.not(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb)))
sum(!is.na(na.if.not(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb)))
sum(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0)
sum(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0,na.rm = T)
debugSource('C:/Shahar/Projects/Video/session5.R')
dff  <- session5(T,F)
class(na.if.not(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb))
p <- session5()
class(na.if.not(df$resp1 & !df$resp4 & !df$resp5 & df$lastHb>0, df$lastHb))
p <- session5()
debugSource('C:/Shahar/Projects/Video/session5.R')
p <- session5()
nrow(df)
attribute1
attribute2
p
View(df)
View(dff)
source('C:/Shahar/Projects/Video/session1.R')
dff  <- session5(T,F)
View(dff)
source('C:/Shahar/Projects/Video/session1.R')
dff  <- session5(T,F)
View(dff)
p <- session5()
p
debugSource('C:/Shahar/Projects/Video/session5.R')
p
View(df)
sum(df$browser_old_new=="old")
sum(df$browser_old_new=="old",na.rm=T)
sum(df$browser_old_new=="new",na.rm=T)
p <- session5()
head(df$ua_browser_ver)
head(df$browser_main_ver)
head(ua_browser)
levels(ua_browser)
head(browser_old_new)
range2word(ua_browser_ver,47,c("old","new")
)
range2word(ua_browser_ver[1],47,c("old","new")
)
range2word(1,47,c("old","new")
)
range2word(1,47,c("old","new"))
ua_browser_ver[1]
ua_browser_ver[2]
class(ua_browser_ver)
debugSource('C:/Shahar/Projects/Video/session5.R')
addAttribute_BrowserOldNew_
addAttribute_BrowserOldNew_1
debugSource('C:/Shahar/Projects/Video/session5.R')
addAttribute_BrowserOldNew_1
addAttribute_BrowserOldNew_2
p <- session5()
p
debugSource('C:/Shahar/Projects/Video/session5.R')
p <- session5()
head(browser_main_Ver)
debugSource('C:/Shahar/Projects/Video/session5.R')
p <- session5()
head(dff$browser_main_ver)
head(browser_old_new)
p
sum(is.na(df$browser_old_new))
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
p[[1]]
p[[2]]
p[[3]]
p[[4]]
p[[5]]
p[[6]]
p[[7]]
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
source('C:/Shahar/Projects/Video/session5.R')
debugSource('C:/Shahar/Projects/Video/session1.R')
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
source('C:/Shahar/Projects/Video/session1.R')
p <- session5()
debugSource('C:/Shahar/Projects/Video/session1.R')
p <- session5()
factorColumn
d %>% group_by_(factorColumn) %>%
mutate(stat1 = sum(nchar(chain)>1),  # sum a logical
serve_cum_percent = cumsum(serve_count),
discrep_cum_percent = cumsum(discrep_count))
class(cumsum(serve_count))
class(cumsum(df$serve_count))
class(sum(nchar(chain)>1))
class(sum(nchar(df$chain)>1))
view(d)
View(d)
debugSource('C:/Shahar/Projects/Video/session1.R')
p <- session5()
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
debugSource('C:/Shahar/Projects/Video/session1.R')
debugSource('C:/Shahar/Projects/Video/session5.R')
p <- session5()
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
debugSource('C:/Shahar/Projects/Video/session1.R')
p <- session5()
class(d)
names(d)
nrow(levelData$chain)
nrow(levelData)
length(levelData)
length(levelData$chain)
length(nchar(levelData$chain))
length(nchar(as.character(levelData$chain)))
debugSource('C:/Shahar/Projects/Video/session1.R')
p <- session5()
d$level_stat1s
source('C:/Shahar/Projects/Video/session1.R')
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
source('C:/Shahar/Projects/Video/session1.R')
p <- session5()
p[[7]]
source('C:/Shahar/Projects/Video/session1.R')
p <- session5()
source('C:/Shahar/Projects/Video/session1.R')
p <- session5()
p[[7]]
source('C:/Shahar/Projects/Video/session5.R')
dff.old=dff
dff <- session5(T)
source('C:/Shahar/Projects/Video/session5.R')
source('C:/Shahar/Projects/Video/session1.R')
dff <- session5(T)
source('C:/Shahar/Projects/Video/session5.R')
dff <- session5(T)
df3 <- loadDF3()
source('C:/Shahar/Projects/Video/session1.R')
dff <- df3
debugSource('C:/Shahar/Projects/Video/session1.R')
p <- session5()
i.
i
s2sColumnName
head(df[[s2sColumnName]])
head(df[["start"]])
source('C:/Shahar/Projects/Video/session1.R')
p <- session5()
source('C:/Shahar/Projects/Video/session5.R')
source('C:/Shahar/Projects/Video/session1.R')
dff <- loadDF3()
p <- session5()
debugSource('C:/Shahar/Projects/Video/session5.R')
p <- session5()
levels(ua_browser)
debugSource('C:/Shahar/Projects/Video/session5.R')
dff <- loadDF3()
debugSource('C:/Shahar/Projects/Video/session5.R')
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
p[[1]]
p[[2]]
p[[3]]
p[[4]]
p[[5]]
p[[6]]
p[[7]]
p[[1]]
ls
ls()
nrow(df3)
nrow(dff)
nrow(df4)
head(df4$timestamp)
head(df1$timestamp)
head(df2$timestamp)
head(df3$timestamp)
head(df4$timestamp)
nrow(df4)
tail(df3$timestamp)
tail(df4$timestamp)
sum(df4$resp1)
sum(df4$resp1)/nrow(df4)
part <- function(d,x) sum(d[[x]])/nrow(d)
part(df4, "resp1")
part(df4, "resp2")
part(df4, "resp4")
part(df4, "resp5")
sum(df4$lastHb>0)/nrow(df4)
part(df3, "resp1")
nrow(dff)
df3 <- addAttribute_Events(df3)
df3$s2s <- df3$start
df3 <- addAttribute_Events(df3)
df3$s2sCall <- df3$start
df3 <- addAttribute_Events(df3)
part(df3, "resp1")
part(df4, "resp1")
part(df3, "resp4")
part(df4, "resp4")
part(df3, "resp5")
part(df4, "resp5")
sum(df4$lastHb>0)/nrow(df4)
sum(df3$lastHb>0)/nrow(df3)
sum(df3$noVideoAdTime>0)/nrow(df3)
sum(df3$noVideoAdTime>0)
sum(df3$noVideoAdTime>0 & df3$tbp ==0)
sum(df3$noVideoAdTime>0 & df3$tbp >0)
sum(df3$noVideoAdTime>0 & (df3$tbp >0))
head(df3 %>% filter(noVideoAdTime>0))
head(df3 %>% filter(noVideoAdTime>0)) %>% select(tpb)
class(df3$tpb)
head(df3 %>% filter(noVideoAdTime>0)) %>% select(tpb)>0
sum(df3$noVideoAdTime>0 & df3$tpb >0)
sum(df3$noVideoAdTime>0 )
sum(df3$noVideoAdTime>0 & df3$tpb ==0)
head(df3 %>% filter(noVideoAdTime>0)) %>% select(noVideoAdTime, tpb)>0
head(df3 %>% filter(noVideoAdTime>0)) %>% select(noVideoAdTime, tpb)
head(df3 %>% filter(noVideoAdTime>0) %>% select(noVideoAdTime, tpb),50)
sum(df3$noVideoAdTime== df3$tpb )
ls()
rm
rm()
ls()
rm(list=ls())
ls()
source('C:/Shahar/Projects/Video/session5.R')
df4 <- loadDF4()
nrow(df4)
names(df4)
dff <- df4
dff <- session5(F,F,F)
source('C:/Shahar/Projects/Video/session5.R')
dff <- session5(F,F,F)
source('C:/Shahar/Projects/Video/session2.R')
dff <- session5(F,F,F)
missing(abc)
nrow(country.hdi)
exists("country.hdi")
source('C:/Shahar/Projects/Video/session5.R')
dff <- session5(F,F,F)
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
p[[1]]
sum(df4$lastHb>0)/nrow(df4)
p[[2]]
p[[7]]
p[[6]]
p[[5]]
p[[4]]
p[[1]]
p[[2]]
p[[3]]
p[[4]]
p[[5]]
p[[7]]
part(df4, "resp5")
part <- function(d,x) sum(d[[x]])/nrow(d)
part(df4, "resp5")
ls()
df4 <- addAttribute_Events()
df4 <- addAttribute_Events(df4)
part(df4, "resp5")
part(df4, "resp4")
df3 <- loadDF3()
part(df3, "resp4")
part(df4, "resp1")
part(df3, "resp1")
df3 <- addAttribute_Events(df3)
part(df3, "resp4")
part(df3, "resp1")
part(df3, "resp5")
sum(df4$resp1 & !df4$resp4 & !df4$resp5 & df4$lastHb>0)/nrow(df4)
sum(df3$resp1 & !df3$resp4 & !df3$resp5 & df3$lastHb>0)/nrow(df3)
sum(df3$resp1 )/nrow(df3)
sum(df4$resp1 & !df4$resp4)/nrow(df4)
sum(df4$resp1 & !df4$resp4 & !df4$resp5)/nrow(df4)
sum(df4$resp1 & !df4$resp4 & df4$resp5)/nrow(df4)
part(df3, "tpb")
part(df4, "tpb")
p[[1]]
p[[2]]
plotDurationByServedAndTwoAttributes(df %>% filter(geo_continent %in% c("EU","SA","NA")), "continent_level","placement_id")
plotDurationByServedAndTwoAttributes(df4 %>% filter(geo_continent %in% c("EU","SA","NA")), "continent_level","placement_id")
df4 <- addAttribute_ContinentAndHdiLevel(df4, country.hdi)
plotDurationByServedAndTwoAttributes(df4 %>% filter(geo_continent %in% c("EU","SA","NA")), "continent_level","placement_id")
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
p[[8]]
names(df4)
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
p[[8]]
p[[7]]
source('C:/Shahar/Projects/Video/session5.R')
p <- session5()
p[[7]]
p <- session5()
plotDurationByServedAndTwoAttributes(df %>% filter(geo_continent %in% c("EU","SA","NA")), "","placement_id")
as.formula("~abc")
as.formula("~abc~x+++5")
as.formula("~abc~x+++5~ ~~")
p <- ggplot(df) + geom_histogram(aes(x=tvadStartP), fill="blue",alpha=0.5) +
geom_histogram(aes(x=lastHbP),fill="red", alpha=0.24) +
facet_grid(~placement_id)), drop=TRUE, scales = "free") + xlim(0,60000)
p <- ggplot(df) + geom_histogram(aes(x=tvadStartP), fill="blue",alpha=0.5) +
geom_histogram(aes(x=lastHbP),fill="red", alpha=0.24) +
facet_grid(~placement_id), drop=TRUE, scales = "free") + xlim(0,60000)
p <- ggplot(df) + geom_histogram(aes(x=tvadStartP), fill="blue",alpha=0.5) +
geom_histogram(aes(x=lastHbP),fill="red", alpha=0.24) +
facet_grid(~placement_id, drop=TRUE, scales = "free") + xlim(0,60000)
p
p <- ggplot(df) + geom_histogram(aes(x=tvadStartP), fill="blue",alpha=0.5) +
geom_histogram(aes(x=lastHbP),fill="red", alpha=0.24) +
facet_wrap(~placement_id, drop=TRUE, scales = "free") + xlim(0,60000)
p
y <- df %>% group_by(placement_id) %>% filter(n() > 300) %>% ungroup()
y <- select(placement_id,tvadStartP, lastHbP) %>% filter(tvadStartP <60000 & lastHbP <60000)
y <- y %>% select(placement_id,tvadStartP, lastHbP) %>% filter(tvadStartP <60000 & lastHbP <60000)
?histogram
y1 <- hist.df(y, seq(0,60000,2000), tvadStartP)
?hist
y1 <- hist.df(y$tvadStartP, seq(0,60000,2000), tvadStartP)
y1 <- hist.df(y$tvadStartP, seq(0,60000,2000), "tvadStartP")
y2 <- hist.df(y$lastHbP, seq(0,60000,2000), "lastHbP")
names(y1)
names(y2)
y3 <- inner_join(y1,y2)
nrow(y3)
?join
source('C:/Shahar/Projects/Video/session5.R')
r <- outputByAttribute(df4,"placement_id")
debugSource('C:/Shahar/Projects/Video/session5.R')
r <- outputByAttribute(df4,"placement_id")
names(df)
df4 <- session5(draw=F)
r <- outputByAttribute(df4,"placement_id")
debugSource('C:/Shahar/Projects/Video/session5.R')
r <- outputByAttribute(df4,"placement_id")
nrow(df)
debugSource('C:/Shahar/Projects/Video/session5.R')
r <- outputByAttribute(df4,"placement_id")
nrow(df4)
View(r)
class(r)
names(r)
debugSource('C:/Shahar/Projects/Video/session5.R')
source('C:/Shahar/Projects/Video/session5.R')
r <- outputByAttribute(df4,"placement_id")
View(r)
write.csv(r,"histogram_by_placement_id.csv")
source('C:/Shahar/Projects/Video/session5.R')
write.csv(r,"histogram_by_placement_id.csv")
r <- outputByAttribute(df4,"placement_id")
write.csv(r,"histogram_by_placement_id.csv")
