source('C:/Shahar/Projects/LostImpressions/session6.R')
s
coefficients(s)
lapply(s,coefficients)
b=lapply(s,coefficients)
length(b)
b[1]
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- session6Plots()
a <- session6Plots(a)
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- session6Plots(a)
p2
p2+geom_abline()
p1
p2
p2+geom_abline()
source('C:/Shahar/Projects/LostImpressions/session6.R')
?n
n(c=(1,2,3))
n(c(1,2,3))
?dense_rank
?approxfun
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
x <- c(5, 1, 3, 2, 2, NA)
row_number(x)
min_rank(x)
dense_rank(x)
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
pieces
class(pieces)
.fun
...
pieces[[1]]
.fun(pieces[[1]])
t<-.fun(pieces[[1]])
t
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
t<-.fun(pieces[[1]])
class(t)
t
t<-pieces[[1]] %>% mutate (percent_rank(df$mk_rel_resid))
t
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
df
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session4.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
?debugSource
Source('C:/Shahar/Projects/LostImpressions/session6.R')
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
t <- .fun(pieces[[1]])
class(t)
t
t <- .fun(pieces[[1]])
max(pieces[[1]]["rank"<=0.8,"mk_rel_resid"])
pieces[[1]]$rank
names(pieces[[1]])
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
df
a <- runSession6()
names(DF)
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
names(DF)
t <- .fun(pieces[[1]])
pieces[[1]]$rank
pieces[[1]]["rank"<=0.8,"mk_rel_resid"]
pieces[[1]][rank<=0.8,"mk_rel_resid"]
pieces[[1]]["rank",]
pieces[[1]][,"rank"]
pieces[[1]]["rank"<=0.8,"rank"]
pieces[[1]][pieces[[1]]["rank"]<=0.8,"rank"]
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
fun(pieces[[1]])
.fun(pieces[[1]])
CI
class(CI)
CI[[1]]
unlist(CI)
unname(CI)
unname(unlist(CI))
unlist(CI)
unname(unlist(CI))
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
p3
p3 + coord_cartesian((xlim(-1,1)))
p3 + coord_cartesian((xlim(c(-1,1)))
)
p3 + coord_cartesian(xlim=c(-1,1))
p3 + coord_cartesian(xlim=c(-1,1),ylim=c(-1,1))
c(1,3,5)*c(3,4,5)
c(1,3,5)*c(NA,4,5)
head(c(1,3,5)*c(NA,4,5),1)
head(c(1,3,5)*c(NA,4,5),-1)
tail(c(1,3,5)*c(NA,4,5),-1)
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
.fun
.fun(pieces[[1]])
predict_using_ret(pieces[[1]])
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
View(DF)
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
cumprod(df$mobile_kfill_ret)
cumprod(tail(df$mobile_kfill_ret),-1)
cumprod(tail(df$mobile_kfill_ret,-1))
cumprod(tail(df$mobile_kfill_ret+1,-1))
df$mobile_kfill_ret
cumprod(tail(df$mobile_kfill_ret+1,-1))
c(1,cumprod(tail(df$mobile_kfill_ret+1,-1))
)
df$mobile_fill[1] * c(1,cumprod(tail(df$mobile_kfill_ret),-1))
df$mobile_fill[1] * c(1,cumprod(tail(df$mobile_kfill_ret,-1))))
df$mobile_fill[1] * c(1,cumprod(tail(df$mobile_kfill_ret,-1)))
df$mobile_fill[1] * c(1,cumprod(tail(df$mobile_kfill_ret+1,-1)))
df %>% mutate(mobile_fill_predict = df$mobile_fill[1] * c(1,cumprod(tail(df$mobile_kfill_ret+1,-1))))
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
p4
p4+coord_cartesian(xlim=c(-1,1))
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
p4 <- ggplot(DF) + geom_density(aes(x=mobile_fill_resid2,y=..scaled..),fill="blue",alpha=0.3, na.rm=T) +
facet_wrap(~placement_id)
p4
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
p5 <- ggplot(a) + geom_density(aes(x=mobile_fill_resid2,y=..scaled..),fill="blue",alpha=0.3, na.rm=T) +
facet_wrap(~placement_id)
p5
p5+coord_cartesian(xlim=c(-1,1))
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
View(df)
n
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
View(a)
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
ggplot(a)+geom_density(aes(x=mobile_fill_predict1,y=..scaled..),color="blue")+facet_wrap(~placement_id)
ggplot(a)+geom_density(aes(x=mobile_fill_predict1,y=..scaled..),fill="blue")+facet_wrap(~placement_id)
ggplot(a)+geom_point(aes(x=mobile_fill_predict1,y=mobile_fill),fill="blue")+facet_wrap(~placement_id)
ggplot(a)+geom_point(aes(x=mobile_fill_predict1,y=mobile_fill),color="blue")+geom_point(aes(x=mobile_fill_predict1_ref,y=mobile_fill),color="red")+facet_wrap(~placement_id)
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,color=placement_id)) +
coord_cartesian(ylim=c(-2,2))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,color=as.factor(placement_id))) +
coord_cartesian(ylim=c(-2,2))
as.factor(a.placement_id)
as.factor(a$placement_id)
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,color=as.factor(placement_id)))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,group=placement_id))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,group=placement_id,color=placement_id))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,group=placement_id,color=placement_id))+coord_cartesian(ylim=c(-1,1))
?ldply
?dlply
b<dlply(a,"placement_id",function(df) retun(df$mobile_fill_ret))
b<- dlply(a,"placement_id",function(df) return(df$mobile_fill_ret))
b
as.matrix(ldply(b))
lapply(length(b))
lapply(b,length)
library(reshape2)
?dcast
b <- acast(a %>%, placement_id ~ date ~ mobile_fill_ret)
b <- acast(a, placement_id ~ date ~ mobile_fill_ret)
b <- acast(a, placement_id ~ date,value.var=mobile_fill_ret)
b <- acast(a, placement_id ~ date,value.var="mobile_fill_ret")
View(b)
b <- acast(a, date ~ placement_id,value.var="mobile_fill_ret")
class(b)
?cov
cor(b)
cor(b,na.rm=T)
cor(b,use="pairwise")
c<-cor(b,use="pairwise")
View(c)
max(c)
max(c, na.rm=T)
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(a)
?arrange
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(a)
"a" in list("a","b","C")
"a" %in% list("a","b","C")
"a" %in% list("g","b","C")
t<-list("g","b","C")
names(t) <- c("first","second","third")
t
names (t=="C")
t=="C"
names(t)[t=="C"]
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(c)
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
a[0,]
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a[0,]
a <- runSession7()
class(a)
class(a[0,])
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
a
View(a)
sum(df$true_mobile_served)
View(df)
b<-ifelse(T,0,df)
b
b<-ifelse(F,0,df)
View(b)
?ifelse
class(b)
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
?facet_wrap
source('C:/Shahar/Projects/LostImpressions/session7.R')
?facet_wrap
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
left("ABDASDF",1)
"ABDASDF"[1]
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(DF)
View(a)
length("ABSDASDF")
nchar("ABSDASDF")
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
class(a$mobile_chain)
class(as.character(a$mobile_chain))
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
View(a)
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
View(a)
source('C:/Shahar/Projects/LostImpressions/session8.R')
View(a)
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
names(DF)
p4 <- ggplot(DF) +
geom_line(aes(x=date,y=mobile_komoona_fill_factor, group=placement_id, color=placement_id)) +
geom_line(aes(x=date,y=komoona_fill_factor_smooth, group=placement_id, color=placement_id)) +
geom_point(aes(x=date,y=komoona_fill_factor_smooth, group=placement_id, color=placement_id))
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
?summarise
?ifelse
source('C:/Shahar/Projects/LostImpressions/session9.R')
source('C:/Shahar/Projects/LostImpressions/session8.R')
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession9()
ggplot(DF) +
geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id)) +
geom_line(aes(x=date,y=smooth_komoona_fill, group=placement_id, color=placement_id)) +
geom_point(aes(x=date,y=smooth_komoona_fill, group=placement_id, color=placement_id))
class(DF)
gplot(DF) +
+     geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id))
ggplot(DF) +
geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id))
class(gplot(DF) + geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id))))
class(gplot(DF) + geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id)))
class(ggplot(DF) + geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id)))
class(ggplot(DF))
names(DF)
ggplot(DF) + geom_point(aes(x=date_joined,y=komoona_fill_factor))
head(DF$komoona_fill_factor)
sum(!is.na(DF$komoona_fill_factor))
View(DF)
?summarise
?sum
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(DF)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(a)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(a)
source('C:/Shahar/Projects/LostImpressions/session9.R')
?group_by
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(rawDF)
names(DF)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
View(DF)
head(DF)
View(lowVolChains)
nrow(lowVolChains)
lowVolChains
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
nrow(DF)
nrow(lowVolChains)
lowVolChains
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
nrow(DF)
nrow(left_join(DF, lowVolChains) %>% filter(!vol=="low") %>% select(-vol))
head(leaf_join(DF,lowVolChains))
head(left_join(DF,lowVolChains))
head(left_join(DF,lowVolChains) %>% filter(!vol=="low"))
is.na(DF$vol[1])
is.null(DF$vol[1])
head(left_join(DF,lowVolChains) %>% filter(is.null(vol))
)
DF <- left_join(DF, lowVolChains)
sum(is.null(DF$vol))
DF$vol
sum(is.na(DF$vol))
sum(!is.na(DF$vol))
nrow(DF %>% filter(is.na(vol))
)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
nrow(DF)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
