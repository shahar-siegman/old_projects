0.230172375,
0.384662645,
0.028004036,
0.269925014,
0.230588705,
0.395703339,
0.3991126,
0.699164058,
0.097378635)
)
source('C:/Shahar/Projects/Discrepancy/R/errors_for_hist.R')
hist(v)
ggplot()+geom_histogram(data=v)
library(ggplot2)
ggplot()+geom_histogram(data=v)
source('C:/Shahar/Projects/Discrepancy/R/session5data.R')
prediction<-mainPredict(rawDF)
prediction<-mainPredict()
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
prediction<-mainPredict(rawDF)
names(periodDataWithCDF)
traceback()
source('C:/Shahar/Projects/Discrepancy/R/session5data.R')
q
mainPlot(mainPredict(rawDF))
source('C:/Shahar/Projects/Discrepancy/R/session5data.R')
mainPlot(mainPredict(rawDF))
pred <- mainPredict(rawDF))
pred <- mainPredict(rawDF)
source('C:/Shahar/Projects/Discrepancy/R/session5data.R')
pred <- mainPredict(rawDF)
mainPlot(pred)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
analyzePredictionSpreadsheet(j)
pred
names(pred)
view(pred)
View(pred)
analyzePredictionSpreadsheet(j)
pred$granularPrediciton
View(pred)
pred$granularPrediction
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
analyzePredictionSpreadsheet(j)
p
rm p
rm (p)
analyzePredictionSpreadsheet(j)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
analyzePredictionSpreadsheet(j)
p <- analyzePredictionSpreadsheet(j)
print(p)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
p <- analyzePredictionSpreadsheet(j)
print(p)
p+facet_grid(.~ as.factor(ChainLength))
p+facet_grid(.~ ChainLength)
p+facet_wrap(.~ ChainLength)
p+facet_wrap(ChainLength)
p+facet_wrap(~ChainLength)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
pred <- aanalyzePredictionSpreadsheet(j)
pred <- analyzePredictionSpreadsheet(j)
ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2, fill=as.factor(ChainLength))) + geom_density(alpha=0.25)+facet_wrap(~ChainLength)
ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2, fill=as.factor(ChainLength))) + geom_density(alpha=0.25)+facet_wrap(~as.factor(ChainLength))
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
analyzePredictionSpreadsheet(j)
p <- analyzePredictionSpreadsheet(j)
print(p)
p+facet_wrap(~ChainLength)
ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2, fill=as.factor(ChainLength))) + geom_density(alpha=0.25)
q <- ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2, fill=as.factor(ChainLength))) + geom_density(alpha=0.25)
analyzePredictionSpreadsheet(j)
ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2, fill=as.factor(ChainLength))) + geom_density(alpha=0.25)
debugSource('C:/Shahar/Projects/Discrepancy/R/session6.R')
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
pred <- analyzePredictionSpreadsheet(j)
pred <- analyzePredictionSpreadsheet(k)
pred <- analyzePredictionSpreadsheet(j)
ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2) + geom_density(alpha=0.25)
)
ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2)) + geom_density(alpha=0.25)
ggplot(data=pred,aes(x=DiscrepancyPercentPeriod2)) + geom_density(alpha=0.25)+facet_wrap(~ChainLength)
library(reshape2)
predm <- melt()
predm <- melt(pred,id.vars=c("placementId","ChainLength"),measure.vars = c("DiscrepancyPercentPeriod2","DiscrepancyPercentPeriod1","granularPrediction","Reisdual","absErr"))
predm <- melt(pred,id.vars=c("placementId","ChainLength"),measure.vars = c("DiscrepancyPercentPeriod2","DiscrepancyPercentPeriod1","granularPrediction","Residual","absErr"))
View(predm)
predm <- melt(pred,id.vars=c("placementId","ChainLength"),measure.vars = c("DiscrepancyPercentPeriod2","DiscrepancyPercentPeriod1","Residual"))
p<-ggplot(data=predm,aes(x=value, color=variable)) + facet_wrap(~ChainLength)
print(p)
p<-ggplot(data=predm,aes(x=value, color=variable)) + geom_density() + facet_wrap(~ChainLength)
print(p)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
inputDF <- read.csv("C:\Code\Service\Komoona.BigD.NetworkModelUtil\bin\Debug\pcmnts1.txt", header=FALSE)
inputDF <- read.csv("C:/Code/Service/Komoona.BigD.NetworkModelUtil/bin/Debug/pcmnts1.txt", header=FALSE)
inputDF
p1 <- inputDF %>% transmute(v1=placementID)
p1 <- inputDF %>% transmute(placementID=v1)
p1 <- inputDF %>% transmute(placementID=V1)
p1
names(p1)
is.identical(names(p1),"placementID")
identical(names(p1),"placementID")
print a
print ("A")
print (paste("A"))
length(p1)
rows(p1)
nrow(p1)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
debugSource('C:/Shahar/Projects/Discrepancy/R/session7.R')
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
extDisc <- read.csv("ProductionModelDiscrepancy25.csv")
summary(extDisc)
names(extDisc)
j <- predictionSpreadsheet(rawDF, extDisc, extDisc)
identical(NA, NA)
identical(NA, 1)
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
j <- predictionSpreadsheet(rawDF, extDisc, extDisc)
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
j <- predictionSpreadsheet(rawDF, extDisc, extDisc)
inner_join(placementSample %>% select(placementId)).
inner_join(placementSample %>% select(placementId))
period2 %>% inner_join(placementSample %>% select(placementId))
!identical(externalDiscrepancyData,NA)
"placementId" %in% names(externalDiscrepancyData)
pred %>% left_join(externalDiscrepancyData, by=placementId)
pred %>% left_join(externalDiscrepancyData, by="placementId")
debugSource('C:/Shahar/Projects/Discrepancy/R/session7.R')
j <- predictionSpreadsheet(rawDF, extDisc, extDisc)
View(j)
debugSource('C:/Shahar/Projects/Discrepancy/R/session7.R')
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
j <- predictionSpreadsheet(rawDF, extDisc, extDisc)
View(j)
class(c("a","b","c"))
class(list("a","b","c"))
class(list("a","b","c")[1])
class(list("a","b","c")[[1])
class(list("a","b","c")[[1]])
list("a","b","c")[1]
list("a","b","c")
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
mpred <- analyzePredictionSpreadsheet(pred)
mpred <- analyzePredictionSpreadsheet(j)
p<-plotResiduals(mpred)
print(p)
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
source('C:/Shahar/Projects/Discrepancy/R/session5data.R')
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
mainAnalysisFlow()
source('C:/Shahar/Projects/Discrepancy/R/session7.R')
mainAnalysisFlow()
p <- .Last.value
View(p)
p
q <- mainAnalysisFlow()
View(q)
names(q)
View(q)
a=testDByPercentileByLength2
View(a)
class(a)
a=testDByPercentileByLength2()
library(dplyr)
a=testDByPercentileByLength2()
View(a)
t <- fitAlongPercentiles(fitAlongChainLength(a))
t
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
b <- testDByPercentileByLength2();
b
View(b)
lm(1:5 ~ V1, b)
lm(1:5 ~ V1, data.frame(b)
)
b1 <- data.frame(b)
b1
lm(1:5 ~ b, data.frame(b)
)
lm(b ~ 1:5 , data.frame(b))
?lm
b<-data.frame(b)
b["x"]=1:5
b
lm(b ~ x , b)
period1
period1 <- getSamplePlacementData(rawDF)
library(dyplr)
library(dplyr)
period1 <- getSamplePlacementData(rawDF)
View(pperiod1)
View(period1)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
d <- testDByPercentileByLength2()
View(d)
b <- fitAlongChainLength(d)
View(b)
t <- fitAlongPercentiles(b)
ptiles
coefficients(fitIntercept)
log(d2$intercept)
source('C:/Shahar/Projects/Discrepancy/R/session6.R')
q
?read.csv
a={1,2,3}
a=[1,2,3]
a <- [1,2,3]
a <- c(1,2,3)
a
a <- c(c(1,4,5),c(2,6,3),c(3,6,7))
a
a <- list(c(1,4,5),c(2,6,3),c(3,6,7))
a
lapply(a,function(x) {x[1]})
lapply(a,function(x) {x[2]})
x <- scan("C:\Shahar\Projects\IndexSSP\data.txt", what="", sep="\n")
x <- scan("C:\\Shahar\\Projects\\IndexSSP\\data.txt", what="", sep="\n")
x
y <- strsplit(x, ",")
y
as.numeric("4")
lappply(y,as.numeric())
lapply(y,as.numeric)
z<-lapply(y,as.numeric)
z
z[[1]]
z[[1]][2]
z[[1]][4]
z
lapply(z,`[[`,1)
lapply(z,`[`,-11)
lapply(z,`[`,-1)
lapply(z,sort)
unlist(lapply(z,sort))
unique(unlist(lapply(z,sort)))
unique(unlist(z))
sort(unique(unlist(z)))
?sort
lapply(y,sort,FALSE)
lapply(z,sort,FALSE)
?lapply
lapply(z,sort,TRUE)
a=1:14
a<7
sum(a<7)
loadbids()
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
loadbids()
loadBids()
y<-loadBids()
resultByFloorPrice(y, 1)
resultByFloorPrice(y, 7)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
resultByFloorPrice(y, 7)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
resultByFloorPrice(y, 7)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
resultByFloorPrice(y, 7)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
resultByFloorPrice(y, 5.5)
y <- loadBids()
resultByFloorPrice(y, 5.5)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
install.packages("jsonlite")
library(jsonlite)
x <- scan(inputFile, what="", sep=NA)
inputFile <- "C:\\Shahar\\Projects\\IndexSSP\\data.txt"
x <- scan(inputFile, what="", sep=NA)
?scan
x <- scan(inputFile, what="", sep="")
x
length(x)
class(x)
x <- scan(inputFile, what="", sep="\n")
class(x)
x
fname <- "s2s1_statLog.log.2015-09-07-16"
pwd
getwd
getwd()
setwd("C:\\Shahar\\Projects\\IndexSSP\\")
x<-scan(fname)
x<-scan(fname, what="")
df <- fromJSON(x)
head(df)
dfa <- fromJSON(x)
head(dfa)
x<-scan("samplefile.txt"), what="")
x<-scan("samplefile.txt", what="")
x<-scan("sampefile.txt", what="")
dfa <- fromJSON(x)
x
x<-scan("sampefile.txt", what="", sep="\n")
x
dfa <- fromJSON(x)
class(x)
x[1]
x[2]
x[3]
dfa <- fromJSON(x)
dfa <- fromJSON(x[1])
class(dfa)
dfa[1]
dfa[2]
dfa[3]
dfa$tagid
dfa <- fromJSON(x[2])
dfa <- fromJSON(x[3])
dfa <- fromJSON(x)
?fromJSON
dfa <- fromJSON(x,simplifyDataFrame=FALSE)
json <-
'[
{"Name" : "Mario", "Age" : 32, "Occupation" : "Plumber"},
{"Name" : "Peach", "Age" : 21, "Occupation" : "Princess"},
{},
{"Name" : "Bowser", "Occupation" : "Koopa"}
]'
class(json)
length(json)
x
mydf <- fromJSON(json)
mydf
json
x
paste(x)
?paste
paste(x, collapse="")
dfa <- fromJSON(paste(x,collapse=""),simplifyDataFrame=FALSE)
dfa <- fromJSON(paste(x,collapse="",sep=" "),simplifyDataFrame=FALSE)
dat <- fromJSON(sprintf("[%s]", paste(readLines("sampefile.txt"), collapse=",")))
names(dat)
View(dat
)
dat <- fromJSON(sprintf("[%s]", paste(readLines("s2s1_statLog.log.2015-09-07-16"), collapse=",")))
length(data)
length(dat)
rows(dat)
nrow(dat)
loadBids()
u<-loadBids()
seconds <- unlist(lapply(auctions,`[`,2))
seconds <- unlist(lapply(u,`[`,2))
seconds
1>seconds
sum(1>seconds)
seconds[seconds==NA]
seconds[is.na(seconds)]
is.na(seconds)
source('C:/Shahar/Projects/IndexSSP/session1.R')
resultByFloorPrice(u,5.5)
resultByFloorPrice(u,1.5)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
q
ls()
source('C:/Shahar/Projects/IndexSSP/session1.R')
ls()
rm(ls())
rm(list=ls())
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
list.files("placement_bids\\", pattern="*.csv");
loopFiles()
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
View(x)
View(y)
class(y)
head(y)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- loadBids('0e4705ecbf30f55ff5d970958e1477c1.csv')
y <- loadBids('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- loadBids('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- loadBids('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- loadBids('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
class(y)
head(y)
z <- strsplit(x, ",")
head(z)
z <- lapply(y,`[`,1)
z <- lapply(z,`[`,1)
head(z)
z <- strsplit(x, ",")
z <- lapply(z,`[`,1)
head(z)
unlist(z)
t <- strsplit(unlist(z),";")
head(t)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- loadBids('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
head(y)
y <- strsplit(x, ",")
y
z <- strsplit(x, ",")
z <- lapply(z,`[`,1)
head(z)
z <- unlist(z)
head(z)
t <- lapply(z,strsplit,";")
head(t)
head(unlist(t))
head(strsplit(z,";"))
as.numeric(head(strsplit(z,";")))
lapply(head(strsplit(z,";")),as.numeric)
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- loadBids('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
lapply(y,as.numeric)
data.frame(x,y,z)
data.frame(x=na,y=na,z=na)
data.frame(x=NA,y=NA,z=NA)
?swq
?seq
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
sum(aboveSeconds)
y <- simulateSingleFile('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
source('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
View(y)
ggplot2(data=y)+geom_line(aes(x=floorPrice,y=revenue))
library(ggplot2)
ggplot(data=y)+geom_line(aes(x=floorPrice,y=revenue))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=revenue))+geom_line(aes(x=floorPrice,y=wins/auctions))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=wins/auctions))
ggplot(data=y)+geom_line(aes(x=revenue/wins,y=wins/auctions))
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions))
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + xlim(c(0,0.35)) + ylimc(0, 3)
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + xlim(c(0,0.35)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + xlim(c(0,0.4)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + xlim(c(0,1)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + ylim(c(0, 3))
source('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\0e4705ecbf30f55ff5d970958e1477c1.csv')
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + xlim(c(0,0.35)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + xlim(c(0,1)) + ylim(c(0, 3))
y <- simulateSingleFile('placement_bids\\1cbcc1ad520133317406f03db8fa7dfc.csv')
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) + xlim(c(0,1)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(y=floorPrice,y=wins/auctions)) + xlim(c(0,1)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=wins/auctions)) + xlim(c(0,1)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=wins/auctions)) + xlim(c(0.1,1)) + ylim(c(0, 3))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=wins/auctions)) + xlim(c(0.1,1))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=wins/auctions)) + xlim(c(0.1,1)) + ylim(c(0,0.25))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=wins/auctions)) + xlim(c(0.01,1)) + ylim(c(0,0.25))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=revenue/wins)) + xlim(c(0.01,1)) + ylim(c(0,0.25))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=revenue/wins))
ggplot(data=y)+geom_line(aes(x=floorPrice,y=wins/auctions)) + xlim(c(0.01,1)) + ylim(c(0,0.25))
View(y)
y <- simulateSingleFile('placement_bids\\8aa7fb4e378bd004fcdbb00e918a5e16.csv')
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions))
ggplot(data=y)+geom_line(aes(y=revenue/wins,x=wins/auctions)) +xlim(0,0.25)
seq(0,10,2)
seq(0,10,by=2)
source('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\8aa7fb4e378bd004fcdbb00e918a5e16.csv')
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\8aa7fb4e378bd004fcdbb00e918a5e16.csv')
View(result)
?matrix
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\8aa7fb4e378bd004fcdbb00e918a5e16.csv')
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
source('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\8aa7fb4e378bd004fcdbb00e918a5e16.csv')
warnings()
y <- simulateSingleFile('placement_bids\\8aa7fb4e378bd004fcdbb00e918a5e16.csv')
source('C:/Shahar/Projects/IndexSSP/session1.R')
Q
source('C:/Shahar/Projects/IndexSSP/session1.R')
y <- simulateSingleFile('placement_bids\\8aa7fb4e378bd004fcdbb00e918a5e16.csv')
View(y)
?write.csv
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
debugSource('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopFiles()
?ggsave
a="abcdefg"
a[2]
a[1]
a[1][1:2]
substr(a,3,5)
substr(a,1,-2)
substr(a,1,-1)
substr(a,-3,-2)
length(a)
nchar(a)
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
source('C:/Shahar/Projects/IndexSSP/session1.R')
loopResults()
source('C:/Shahar/Projects/IndexSSP/session1.R')
