p4
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
p5 <- ggplot(a) + geom_density(aes(x=mobile_fill_resid2,y=..scaled..),fill="blue",alpha=0.3, na.rm=T) +
facet_wrap(~placement_id)
p5
p5+coord_cartesian(xlim=c(-1,1))
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
source('C:/Shahar/Projects/LostImpressions/session6.R')
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
View(df)
n
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
debugSource('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
View(a)
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession6()
ggplot(a)+geom_density(aes(x=mobile_fill_predict1,y=..scaled..),color="blue")+facet_wrap(~placement_id)
ggplot(a)+geom_density(aes(x=mobile_fill_predict1,y=..scaled..),fill="blue")+facet_wrap(~placement_id)
ggplot(a)+geom_point(aes(x=mobile_fill_predict1,y=mobile_fill),fill="blue")+facet_wrap(~placement_id)
ggplot(a)+geom_point(aes(x=mobile_fill_predict1,y=mobile_fill),color="blue")+geom_point(aes(x=mobile_fill_predict1_ref,y=mobile_fill),color="red")+facet_wrap(~placement_id)
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,color=placement_id)) +
coord_cartesian(ylim=c(-2,2))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,color=as.factor(placement_id))) +
coord_cartesian(ylim=c(-2,2))
as.factor(a.placement_id)
as.factor(a$placement_id)
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,color=as.factor(placement_id)))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,group=placement_id))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,group=placement_id,color=placement_id))
ggplot(a) +
geom_line(aes(x=date,y=mobile_fill_ret,group=placement_id,color=placement_id))+coord_cartesian(ylim=c(-1,1))
?ldply
?dlply
b<dlply(a,"placement_id",function(df) retun(df$mobile_fill_ret))
b<- dlply(a,"placement_id",function(df) return(df$mobile_fill_ret))
b
as.matrix(ldply(b))
lapply(length(b))
lapply(b,length)
library(reshape2)
?dcast
b <- acast(a %>%, placement_id ~ date ~ mobile_fill_ret)
b <- acast(a, placement_id ~ date ~ mobile_fill_ret)
b <- acast(a, placement_id ~ date,value.var=mobile_fill_ret)
b <- acast(a, placement_id ~ date,value.var="mobile_fill_ret")
View(b)
b <- acast(a, date ~ placement_id,value.var="mobile_fill_ret")
class(b)
?cov
cor(b)
cor(b,na.rm=T)
cor(b,use="pairwise")
c<-cor(b,use="pairwise")
View(c)
max(c)
max(c, na.rm=T)
source('C:/Shahar/Projects/LostImpressions/session6.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(a)
?arrange
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(a)
"a" in list("a","b","C")
"a" %in% list("a","b","C")
"a" %in% list("g","b","C")
t<-list("g","b","C")
names(t) <- c("first","second","third")
t
names (t=="C")
t=="C"
names(t)[t=="C"]
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(c)
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
a[0,]
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a[0,]
a <- runSession7()
class(a)
class(a[0,])
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
a
View(a)
sum(df$true_mobile_served)
View(df)
b<-ifelse(T,0,df)
b
b<-ifelse(F,0,df)
View(b)
?ifelse
class(b)
debugSource('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
?facet_wrap
source('C:/Shahar/Projects/LostImpressions/session7.R')
?facet_wrap
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
left("ABDASDF",1)
"ABDASDF"[1]
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
View(DF)
View(a)
length("ABSDASDF")
nchar("ABSDASDF")
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
class(a$mobile_chain)
class(as.character(a$mobile_chain))
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session7.R')
a <- runSession7()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
View(a)
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
View(a)
source('C:/Shahar/Projects/LostImpressions/session8.R')
View(a)
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
names(DF)
p4 <- ggplot(DF) +
geom_line(aes(x=date,y=mobile_komoona_fill_factor, group=placement_id, color=placement_id)) +
geom_line(aes(x=date,y=komoona_fill_factor_smooth, group=placement_id, color=placement_id)) +
geom_point(aes(x=date,y=komoona_fill_factor_smooth, group=placement_id, color=placement_id))
debugSource('C:/Shahar/Projects/LostImpressions/session8.R')
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession8()
source('C:/Shahar/Projects/LostImpressions/session8.R')
?summarise
?ifelse
source('C:/Shahar/Projects/LostImpressions/session9.R')
source('C:/Shahar/Projects/LostImpressions/session8.R')
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
source('C:/Shahar/Projects/LostImpressions/session8.R')
a <- runSession9()
ggplot(DF) +
geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id)) +
geom_line(aes(x=date,y=smooth_komoona_fill, group=placement_id, color=placement_id)) +
geom_point(aes(x=date,y=smooth_komoona_fill, group=placement_id, color=placement_id))
class(DF)
gplot(DF) +
+     geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id))
ggplot(DF) +
geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id))
class(gplot(DF) + geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id))))
class(gplot(DF) + geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id)))
class(ggplot(DF) + geom_line(aes(x=date,y=smooth_fill, group=placement_id, color=placement_id)))
class(ggplot(DF))
names(DF)
ggplot(DF) + geom_point(aes(x=date_joined,y=komoona_fill_factor))
head(DF$komoona_fill_factor)
sum(!is.na(DF$komoona_fill_factor))
View(DF)
?summarise
?sum
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(DF)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(a)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(a)
source('C:/Shahar/Projects/LostImpressions/session9.R')
?group_by
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(rawDF)
names(DF)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
names(DF)
View(DF)
head(DF)
View(lowVolChains)
nrow(lowVolChains)
lowVolChains
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
nrow(DF)
nrow(lowVolChains)
lowVolChains
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
nrow(DF)
nrow(left_join(DF, lowVolChains) %>% filter(!vol=="low") %>% select(-vol))
head(leaf_join(DF,lowVolChains))
head(left_join(DF,lowVolChains))
head(left_join(DF,lowVolChains) %>% filter(!vol=="low"))
is.na(DF$vol[1])
is.null(DF$vol[1])
head(left_join(DF,lowVolChains) %>% filter(is.null(vol))
)
DF <- left_join(DF, lowVolChains)
sum(is.null(DF$vol))
DF$vol
sum(is.na(DF$vol))
sum(!is.na(DF$vol))
nrow(DF %>% filter(is.na(vol))
)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
nrow(DF)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
runSession9()
a<-runSession9()
write.table(a,"clipboard",sep="\t")
write.csv(a,"a.csv",sep="\t")
?unique
?dplyr::unique
??unique
id(c(DF$placement_id,DF$chain_no_fps)
)
id("a","B","c")
id("a","B")
id(c("a","a","b"),c("B","B","c")
)
id(a)
a %>% select(placement_id, chain_no_fps) %>% id
a %>% select(placement_id, chain_no_fps) %>% group_by(placement_id) %>% id
a %>% select(placement_id, chain_no_fps) %>% group_by(placement_id) %>% id()
ddply(a %>% select(placement_id, chain_no_fps) %>% group_by(placement_id),"placement_id",id)
?ddply
ldply(a %>% select(placement_id, chain_no_fps) %>% group_by(placement_id),"placement_id",id)
ldply(a %>% select(placement_id, chain_no_fps),"placement_id",id)
?ldply
?ddply
ddply(a %>% select(placement_id, chain_no_fps),placement_id,id)
ddply(a %>% select(placement_id, chain_no_fps),"placement_id",id)
id(a %>% select(placement_id, chain_no_fps) %>% filter(placement_id="0e42430f825c80036fd1b0a06f6425b9"))
id(a %>% select(placement_id, chain_no_fps) %>% filter(placement_id=="0e42430f825c80036fd1b0a06f6425b9"))
k <- id(a %>% select(placement_id, chain_no_fps) %>% filter(placement_id=="0e42430f825c80036fd1b0a06f6425b9"))
class(kj)
class(k)
length(k)
names(k)
a %>% select(placement_id, chain_no_fps) %>% unique()
??series
??ordinal
a %>% select(placement_id, chain_no_fps) %>% unique() %>% mutate(one=1) %>% group_by(placement_id) %>% mutate(ord=cumsum(1))
a %>% select(placement_id, chain_no_fps) %>% unique() %>% mutate(one=1) %>% group_by(placement_id) %>% mutate(ord=cumsum(one))
b <- a %>% select(placement_id, chain_no_fps) %>% unique() %>% mutate(one=1) %>% group_by(placement_id) %>% mutate(ord=cumsum(one))
View(b)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
?rank
??Rank
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
?legend.position
??legend.position
??theme
seq(1,20)
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
as.character(seq(1,20))
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
?scale_color_manual
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(a)
source('C:/Shahar/Projects/LostImpressions/session9.R')
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
View(uniqueChains)
debugSource('C:/Shahar/Projects/LostImpressions/session9.R')
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
write.csv(a,"a.csv")
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
write.csv(a,"a.csv")
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
a <- runSession9()
source('C:/Shahar/Projects/LostImpressions/session9.R')
?interpolate
??interpolate
seq(0,1,20)
seq(0,1,nstep=20)
?seq
seq(0,1,length.out=20)
seq(0,1,length.out=21)
a <- runSession9()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
getwd()
setwd("C:/Shahar/Projects/ImproveMargin")
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
View(df)
approx(df$nominal_margin,df$effective_margin,xout)
pprox(df$nominal_margin, df$profit_at_margin, xout)
approx(df$nominal_margin, df$profit_at_margin, xout)
?approx
approx(df$nominal_margin, df$profit_at_margin, xout)[[1]]
approx(df$nominal_margin, df$profit_at_margin, xout)[[2]]
debugSource('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
debugSource('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
data.frame(placement_id=df$placement_id[1], nominal_margin=xout,
effective_margin= approx(df$nominal_margin,df$effective_margin,xout)[[2]],
profit_at_margin = approx(df$nominal_margin, df$profit_at_margin, xout)[[2]]
)
nrow(placement_id=df$placement_id[1])
nrow(df$placement_id[1])
df$placement_id[1]
names(df)
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
write.csv(a[[1]],"tabular_margin.csv")
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
?group_by
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
source('C:/Shahar/Projects/ImproveMargin/margin_curves.R')
a <- runMarginCurve()
?"%*%"
