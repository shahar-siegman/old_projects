source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
names(a)
length(unique(a$placement_id))
head(a$bid)
sum(head(a$bid),na.rm=T)
sum(head(a$bid>0),na.rm=T)
head(a$bid,50)
sum(head(a$bid,50)>0),na.rm=T)
sum(head(a$bid,50)>0,na.rm=T)
head(a$served_network,50)
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
View(b1)
nrow(a)
nrow(b1)
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
?stat_smooth
p1 <- ggplot(b1)+geom_point(aes(x=maxbid,y=is_served)) + facet_wrap(placement_id)
p1 <- ggplot(b1)+geom_point(aes(x=maxbid,y=is_served)) + facet_wrap(~placement_id)
p1
sum(is.na(b$maxbid))
sum(is.na(b1$maxbid))
sum(is.na(b1$maxbid) & nbids>0)
sum(is.na(b1$maxbid) & b$nbids>0)
sum(is.na(b1$maxbid) & b1$nbids>0)
summary(b1$nbids)
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
pq
p1
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p1
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p1
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p1
?geom_density
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p1
b1$is_chain_served <- b1$is_served & ! b1$is_hdbd_served
View(b1)
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p1
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p2
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p2
p3
View(b2)
b2 <- b2 %>% group_by(nbids) %>% mutate(p=cnt/sum(cnt))
sum(cnt)
sum(b2$cnt)
sum(b2$is_chain_served | b2$is_hdbd_served)
b2 %>% filter(is_chain_served | is_hdbd_served) %>% '[['("cnt") %>% sum()
224579/805596
View(b2)
b2 %>% group_by(nbids) %>% summarise(cnt=sum(cnt)) %>% View()
b2 %>% group_by(nbids) %>% summarise(cnt=sum(cnt)) %>% group_by() %>% mutate(p=cnt/sum(cnt)) %>% View()
b2 %>% mutate(is_served=is_chain_served|is_chain_served) %>% group_by(nbids,is_served) %>% summarise(cnt=sum(cnt)) %>% group_by(nbids) %>% mutate(p=cnt/sum(cnt)) %>% View()
b2 %>% mutate(is_served=is_chain_served|is_hdbd_served) %>% group_by(nbids,is_served) %>% summarise(cnt=sum(cnt)) %>% group_by(nbids) %>% mutate(p=cnt/sum(cnt)) %>% View()
b2 %>% mutate(is_served=is_chain_served|is_hdbd_served) %>% group_by(nbids,is_served) %>% summarise(cnt=sum(cnt)) %>% group_by(nbids) %>% mutate(p=1-cnt/sum(cnt)) %>% View()
b2$p_1=1-b2$p
View(b2)
b2 %>% filter(!is_chain_served & is_hdbd_served==0) %>% View()
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p3
source('C:/Shahar/Projects/RedShift/Kbidder/session1.R')
p2
p3
